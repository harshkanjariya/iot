(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Nd={exports:{}},Ls={},Rd={exports:{}},D={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var li=Symbol.for("react.element"),vm=Symbol.for("react.portal"),wm=Symbol.for("react.fragment"),Sm=Symbol.for("react.strict_mode"),Em=Symbol.for("react.profiler"),Cm=Symbol.for("react.provider"),km=Symbol.for("react.context"),Tm=Symbol.for("react.forward_ref"),Im=Symbol.for("react.suspense"),Nm=Symbol.for("react.memo"),Rm=Symbol.for("react.lazy"),Ia=Symbol.iterator;function xm(t){return t===null||typeof t!="object"?null:(t=Ia&&t[Ia]||t["@@iterator"],typeof t=="function"?t:null)}var xd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pd=Object.assign,Dd={};function tr(t,e,n){this.props=t,this.context=e,this.refs=Dd,this.updater=n||xd}tr.prototype.isReactComponent={};tr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};tr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ad(){}Ad.prototype=tr.prototype;function iu(t,e,n){this.props=t,this.context=e,this.refs=Dd,this.updater=n||xd}var su=iu.prototype=new Ad;su.constructor=iu;Pd(su,tr.prototype);su.isPureReactComponent=!0;var Na=Array.isArray,Od=Object.prototype.hasOwnProperty,ou={current:null},Md={key:!0,ref:!0,__self:!0,__source:!0};function Ld(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Od.call(e,r)&&!Md.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),a=0;a<l;a++)u[a]=arguments[a+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:li,type:t,key:s,ref:o,props:i,_owner:ou.current}}function Pm(t,e){return{$$typeof:li,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function lu(t){return typeof t=="object"&&t!==null&&t.$$typeof===li}function Dm(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ra=/\/+/g;function ao(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Dm(""+t.key):e.toString(36)}function Bi(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case li:case vm:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ao(o,0):r,Na(i)?(n="",t!=null&&(n=t.replace(Ra,"$&/")+"/"),Bi(i,e,n,"",function(a){return a})):i!=null&&(lu(i)&&(i=Pm(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ra,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Na(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+ao(s,l);o+=Bi(s,e,n,u,i)}else if(u=xm(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+ao(s,l++),o+=Bi(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function wi(t,e,n){if(t==null)return t;var r=[],i=0;return Bi(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Am(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ce={current:null},Wi={transition:null},Om={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:Wi,ReactCurrentOwner:ou};function Fd(){throw Error("act(...) is not supported in production builds of React.")}D.Children={map:wi,forEach:function(t,e,n){wi(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wi(t,function(){e++}),e},toArray:function(t){return wi(t,function(e){return e})||[]},only:function(t){if(!lu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};D.Component=tr;D.Fragment=wm;D.Profiler=Em;D.PureComponent=iu;D.StrictMode=Sm;D.Suspense=Im;D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Om;D.act=Fd;D.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Pd({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ou.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Od.call(e,u)&&!Md.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var a=0;a<u;a++)l[a]=arguments[a+2];r.children=l}return{$$typeof:li,type:t.type,key:i,ref:s,props:r,_owner:o}};D.createContext=function(t){return t={$$typeof:km,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Cm,_context:t},t.Consumer=t};D.createElement=Ld;D.createFactory=function(t){var e=Ld.bind(null,t);return e.type=t,e};D.createRef=function(){return{current:null}};D.forwardRef=function(t){return{$$typeof:Tm,render:t}};D.isValidElement=lu;D.lazy=function(t){return{$$typeof:Rm,_payload:{_status:-1,_result:t},_init:Am}};D.memo=function(t,e){return{$$typeof:Nm,type:t,compare:e===void 0?null:e}};D.startTransition=function(t){var e=Wi.transition;Wi.transition={};try{t()}finally{Wi.transition=e}};D.unstable_act=Fd;D.useCallback=function(t,e){return Ce.current.useCallback(t,e)};D.useContext=function(t){return Ce.current.useContext(t)};D.useDebugValue=function(){};D.useDeferredValue=function(t){return Ce.current.useDeferredValue(t)};D.useEffect=function(t,e){return Ce.current.useEffect(t,e)};D.useId=function(){return Ce.current.useId()};D.useImperativeHandle=function(t,e,n){return Ce.current.useImperativeHandle(t,e,n)};D.useInsertionEffect=function(t,e){return Ce.current.useInsertionEffect(t,e)};D.useLayoutEffect=function(t,e){return Ce.current.useLayoutEffect(t,e)};D.useMemo=function(t,e){return Ce.current.useMemo(t,e)};D.useReducer=function(t,e,n){return Ce.current.useReducer(t,e,n)};D.useRef=function(t){return Ce.current.useRef(t)};D.useState=function(t){return Ce.current.useState(t)};D.useSyncExternalStore=function(t,e,n){return Ce.current.useSyncExternalStore(t,e,n)};D.useTransition=function(){return Ce.current.useTransition()};D.version="18.3.1";Rd.exports=D;var Fs=Rd.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm=Fs,Lm=Symbol.for("react.element"),Fm=Symbol.for("react.fragment"),zm=Object.prototype.hasOwnProperty,Um=Mm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bm={key:!0,ref:!0,__self:!0,__source:!0};function zd(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)zm.call(e,r)&&!Bm.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Lm,type:t,key:s,ref:o,props:i,_owner:Um.current}}Ls.Fragment=Fm;Ls.jsx=zd;Ls.jsxs=zd;Nd.exports=Ls;var Ji=Nd.exports,Ud={exports:{}},Fe={},Bd={exports:{}},Wd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,R){var x=k.length;k.push(R);e:for(;0<x;){var Z=x-1>>>1,se=k[Z];if(0<i(se,R))k[Z]=R,k[x]=se,x=Z;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var R=k[0],x=k.pop();if(x!==R){k[0]=x;e:for(var Z=0,se=k.length,yi=se>>>1;Z<yi;){var Yt=2*(Z+1)-1,uo=k[Yt],qt=Yt+1,vi=k[qt];if(0>i(uo,x))qt<se&&0>i(vi,uo)?(k[Z]=vi,k[qt]=x,Z=qt):(k[Z]=uo,k[Yt]=x,Z=Yt);else if(qt<se&&0>i(vi,x))k[Z]=vi,k[qt]=x,Z=qt;else break e}}return R}function i(k,R){var x=k.sortIndex-R.sortIndex;return x!==0?x:k.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],a=[],d=1,c=null,f=3,g=!1,_=!1,w=!1,P=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(k){for(var R=n(a);R!==null;){if(R.callback===null)r(a);else if(R.startTime<=k)r(a),R.sortIndex=R.expirationTime,e(u,R);else break;R=n(a)}}function y(k){if(w=!1,m(k),!_)if(n(u)!==null)_=!0,oo(C);else{var R=n(a);R!==null&&lo(y,R.startTime-k)}}function C(k,R){_=!1,w&&(w=!1,p(N),N=-1),g=!0;var x=f;try{for(m(R),c=n(u);c!==null&&(!(c.expirationTime>R)||k&&!Ge());){var Z=c.callback;if(typeof Z=="function"){c.callback=null,f=c.priorityLevel;var se=Z(c.expirationTime<=R);R=t.unstable_now(),typeof se=="function"?c.callback=se:c===n(u)&&r(u),m(R)}else r(u);c=n(u)}if(c!==null)var yi=!0;else{var Yt=n(a);Yt!==null&&lo(y,Yt.startTime-R),yi=!1}return yi}finally{c=null,f=x,g=!1}}var T=!1,I=null,N=-1,J=5,O=-1;function Ge(){return!(t.unstable_now()-O<J)}function ur(){if(I!==null){var k=t.unstable_now();O=k;var R=!0;try{R=I(!0,k)}finally{R?ar():(T=!1,I=null)}}else T=!1}var ar;if(typeof h=="function")ar=function(){h(ur)};else if(typeof MessageChannel<"u"){var Ta=new MessageChannel,ym=Ta.port2;Ta.port1.onmessage=ur,ar=function(){ym.postMessage(null)}}else ar=function(){P(ur,0)};function oo(k){I=k,T||(T=!0,ar())}function lo(k,R){N=P(function(){k(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,oo(C))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(k){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var x=f;f=R;try{return k()}finally{f=x}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,R){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var x=f;f=k;try{return R()}finally{f=x}},t.unstable_scheduleCallback=function(k,R,x){var Z=t.unstable_now();switch(typeof x=="object"&&x!==null?(x=x.delay,x=typeof x=="number"&&0<x?Z+x:Z):x=Z,k){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=x+se,k={id:d++,callback:R,priorityLevel:k,startTime:x,expirationTime:se,sortIndex:-1},x>Z?(k.sortIndex=x,e(a,k),n(u)===null&&k===n(a)&&(w?(p(N),N=-1):w=!0,lo(y,x-Z))):(k.sortIndex=se,e(u,k),_||g||(_=!0,oo(C))),k},t.unstable_shouldYield=Ge,t.unstable_wrapCallback=function(k){var R=f;return function(){var x=f;f=R;try{return k.apply(this,arguments)}finally{f=x}}}})(Wd);Bd.exports=Wd;var Wm=Bd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jm=Fs,Le=Wm;function v(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jd=new Set,Br={};function _n(t,e){bn(t,e),bn(t+"Capture",e)}function bn(t,e){for(Br[t]=e,t=0;t<e.length;t++)jd.add(e[t])}var gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qo=Object.prototype.hasOwnProperty,Hm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xa={},Pa={};function $m(t){return Qo.call(Pa,t)?!0:Qo.call(xa,t)?!1:Hm.test(t)?Pa[t]=!0:(xa[t]=!0,!1)}function Vm(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function bm(t,e,n,r){if(e===null||typeof e>"u"||Vm(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ke(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pe[t]=new ke(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pe[e]=new ke(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pe[t]=new ke(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pe[t]=new ke(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pe[t]=new ke(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pe[t]=new ke(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pe[t]=new ke(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pe[t]=new ke(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pe[t]=new ke(t,5,!1,t.toLowerCase(),null,!1,!1)});var uu=/[\-:]([a-z])/g;function au(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(uu,au);pe[e]=new ke(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(uu,au);pe[e]=new ke(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(uu,au);pe[e]=new ke(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pe[t]=new ke(t,1,!1,t.toLowerCase(),null,!1,!1)});pe.xlinkHref=new ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pe[t]=new ke(t,1,!1,t.toLowerCase(),null,!0,!0)});function cu(t,e,n,r){var i=pe.hasOwnProperty(e)?pe[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(bm(e,n,i,r)&&(n=null),r||i===null?$m(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ct=jm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Si=Symbol.for("react.element"),Cn=Symbol.for("react.portal"),kn=Symbol.for("react.fragment"),du=Symbol.for("react.strict_mode"),Ko=Symbol.for("react.profiler"),Hd=Symbol.for("react.provider"),$d=Symbol.for("react.context"),fu=Symbol.for("react.forward_ref"),Yo=Symbol.for("react.suspense"),qo=Symbol.for("react.suspense_list"),hu=Symbol.for("react.memo"),It=Symbol.for("react.lazy"),Vd=Symbol.for("react.offscreen"),Da=Symbol.iterator;function cr(t){return t===null||typeof t!="object"?null:(t=Da&&t[Da]||t["@@iterator"],typeof t=="function"?t:null)}var q=Object.assign,co;function Er(t){if(co===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);co=e&&e[1]||""}return`
`+co+t}var fo=!1;function ho(t,e){if(!t||fo)return"";fo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(a){var r=a}Reflect.construct(t,[],e)}else{try{e.call()}catch(a){r=a}t.call(e.prototype)}else{try{throw Error()}catch(a){r=a}t()}}catch(a){if(a&&r&&typeof a.stack=="string"){for(var i=a.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{fo=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Er(t):""}function Gm(t){switch(t.tag){case 5:return Er(t.type);case 16:return Er("Lazy");case 13:return Er("Suspense");case 19:return Er("SuspenseList");case 0:case 2:case 15:return t=ho(t.type,!1),t;case 11:return t=ho(t.type.render,!1),t;case 1:return t=ho(t.type,!0),t;default:return""}}function Xo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case kn:return"Fragment";case Cn:return"Portal";case Ko:return"Profiler";case du:return"StrictMode";case Yo:return"Suspense";case qo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $d:return(t.displayName||"Context")+".Consumer";case Hd:return(t._context.displayName||"Context")+".Provider";case fu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hu:return e=t.displayName||null,e!==null?e:Xo(t.type)||"Memo";case It:e=t._payload,t=t._init;try{return Xo(t(e))}catch{}}return null}function Qm(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xo(e);case 8:return e===du?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $t(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bd(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Km(t){var e=bd(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ei(t){t._valueTracker||(t._valueTracker=Km(t))}function Gd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=bd(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Zi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Jo(t,e){var n=e.checked;return q({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Aa(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=$t(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Qd(t,e){e=e.checked,e!=null&&cu(t,"checked",e,!1)}function Zo(t,e){Qd(t,e);var n=$t(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?el(t,e.type,n):e.hasOwnProperty("defaultValue")&&el(t,e.type,$t(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Oa(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function el(t,e,n){(e!=="number"||Zi(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Cr=Array.isArray;function Fn(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+$t(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function tl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(v(91));return q({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ma(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(v(92));if(Cr(n)){if(1<n.length)throw Error(v(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:$t(n)}}function Kd(t,e){var n=$t(e.value),r=$t(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function La(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Yd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Yd(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ci,qd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ci=Ci||document.createElement("div"),Ci.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ci.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ir={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ym=["Webkit","ms","Moz","O"];Object.keys(Ir).forEach(function(t){Ym.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ir[e]=Ir[t]})});function Xd(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ir.hasOwnProperty(t)&&Ir[t]?(""+e).trim():e+"px"}function Jd(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Xd(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var qm=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rl(t,e){if(e){if(qm[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(v(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(v(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(v(61))}if(e.style!=null&&typeof e.style!="object")throw Error(v(62))}}function il(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sl=null;function pu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ol=null,zn=null,Un=null;function Fa(t){if(t=ci(t)){if(typeof ol!="function")throw Error(v(280));var e=t.stateNode;e&&(e=js(e),ol(t.stateNode,t.type,e))}}function Zd(t){zn?Un?Un.push(t):Un=[t]:zn=t}function ef(){if(zn){var t=zn,e=Un;if(Un=zn=null,Fa(t),e)for(t=0;t<e.length;t++)Fa(e[t])}}function tf(t,e){return t(e)}function nf(){}var po=!1;function rf(t,e,n){if(po)return t(e,n);po=!0;try{return tf(t,e,n)}finally{po=!1,(zn!==null||Un!==null)&&(nf(),ef())}}function jr(t,e){var n=t.stateNode;if(n===null)return null;var r=js(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(v(231,e,typeof n));return n}var ll=!1;if(gt)try{var dr={};Object.defineProperty(dr,"passive",{get:function(){ll=!0}}),window.addEventListener("test",dr,dr),window.removeEventListener("test",dr,dr)}catch{ll=!1}function Xm(t,e,n,r,i,s,o,l,u){var a=Array.prototype.slice.call(arguments,3);try{e.apply(n,a)}catch(d){this.onError(d)}}var Nr=!1,es=null,ts=!1,ul=null,Jm={onError:function(t){Nr=!0,es=t}};function Zm(t,e,n,r,i,s,o,l,u){Nr=!1,es=null,Xm.apply(Jm,arguments)}function eg(t,e,n,r,i,s,o,l,u){if(Zm.apply(this,arguments),Nr){if(Nr){var a=es;Nr=!1,es=null}else throw Error(v(198));ts||(ts=!0,ul=a)}}function yn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function sf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function za(t){if(yn(t)!==t)throw Error(v(188))}function tg(t){var e=t.alternate;if(!e){if(e=yn(t),e===null)throw Error(v(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return za(i),t;if(s===r)return za(i),e;s=s.sibling}throw Error(v(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(v(189))}}if(n.alternate!==r)throw Error(v(190))}if(n.tag!==3)throw Error(v(188));return n.stateNode.current===n?t:e}function of(t){return t=tg(t),t!==null?lf(t):null}function lf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=lf(t);if(e!==null)return e;t=t.sibling}return null}var uf=Le.unstable_scheduleCallback,Ua=Le.unstable_cancelCallback,ng=Le.unstable_shouldYield,rg=Le.unstable_requestPaint,ee=Le.unstable_now,ig=Le.unstable_getCurrentPriorityLevel,mu=Le.unstable_ImmediatePriority,af=Le.unstable_UserBlockingPriority,ns=Le.unstable_NormalPriority,sg=Le.unstable_LowPriority,cf=Le.unstable_IdlePriority,zs=null,lt=null;function og(t){if(lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(zs,t,void 0,(t.current.flags&128)===128)}catch{}}var Ze=Math.clz32?Math.clz32:ag,lg=Math.log,ug=Math.LN2;function ag(t){return t>>>=0,t===0?32:31-(lg(t)/ug|0)|0}var ki=64,Ti=4194304;function kr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function rs(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=kr(l):(s&=o,s!==0&&(r=kr(s)))}else o=n&~i,o!==0?r=kr(o):s!==0&&(r=kr(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ze(e),i=1<<n,r|=t[n],e&=~i;return r}function cg(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dg(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ze(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=cg(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function al(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function df(){var t=ki;return ki<<=1,!(ki&4194240)&&(ki=64),t}function mo(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ui(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ze(e),t[e]=n}function fg(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ze(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function gu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ze(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var U=0;function ff(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var hf,_u,pf,mf,gf,cl=!1,Ii=[],At=null,Ot=null,Mt=null,Hr=new Map,$r=new Map,Rt=[],hg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ba(t,e){switch(t){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":Hr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$r.delete(e.pointerId)}}function fr(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ci(e),e!==null&&_u(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function pg(t,e,n,r,i){switch(e){case"focusin":return At=fr(At,t,e,n,r,i),!0;case"dragenter":return Ot=fr(Ot,t,e,n,r,i),!0;case"mouseover":return Mt=fr(Mt,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Hr.set(s,fr(Hr.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,$r.set(s,fr($r.get(s)||null,t,e,n,r,i)),!0}return!1}function _f(t){var e=tn(t.target);if(e!==null){var n=yn(e);if(n!==null){if(e=n.tag,e===13){if(e=sf(n),e!==null){t.blockedOn=e,gf(t.priority,function(){pf(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ji(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=dl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);sl=r,n.target.dispatchEvent(r),sl=null}else return e=ci(n),e!==null&&_u(e),t.blockedOn=n,!1;e.shift()}return!0}function Wa(t,e,n){ji(t)&&n.delete(e)}function mg(){cl=!1,At!==null&&ji(At)&&(At=null),Ot!==null&&ji(Ot)&&(Ot=null),Mt!==null&&ji(Mt)&&(Mt=null),Hr.forEach(Wa),$r.forEach(Wa)}function hr(t,e){t.blockedOn===e&&(t.blockedOn=null,cl||(cl=!0,Le.unstable_scheduleCallback(Le.unstable_NormalPriority,mg)))}function Vr(t){function e(i){return hr(i,t)}if(0<Ii.length){hr(Ii[0],t);for(var n=1;n<Ii.length;n++){var r=Ii[n];r.blockedOn===t&&(r.blockedOn=null)}}for(At!==null&&hr(At,t),Ot!==null&&hr(Ot,t),Mt!==null&&hr(Mt,t),Hr.forEach(e),$r.forEach(e),n=0;n<Rt.length;n++)r=Rt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Rt.length&&(n=Rt[0],n.blockedOn===null);)_f(n),n.blockedOn===null&&Rt.shift()}var Bn=Ct.ReactCurrentBatchConfig,is=!0;function gg(t,e,n,r){var i=U,s=Bn.transition;Bn.transition=null;try{U=1,yu(t,e,n,r)}finally{U=i,Bn.transition=s}}function _g(t,e,n,r){var i=U,s=Bn.transition;Bn.transition=null;try{U=4,yu(t,e,n,r)}finally{U=i,Bn.transition=s}}function yu(t,e,n,r){if(is){var i=dl(t,e,n,r);if(i===null)To(t,e,r,ss,n),Ba(t,r);else if(pg(i,t,e,n,r))r.stopPropagation();else if(Ba(t,r),e&4&&-1<hg.indexOf(t)){for(;i!==null;){var s=ci(i);if(s!==null&&hf(s),s=dl(t,e,n,r),s===null&&To(t,e,r,ss,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else To(t,e,r,null,n)}}var ss=null;function dl(t,e,n,r){if(ss=null,t=pu(r),t=tn(t),t!==null)if(e=yn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=sf(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ss=t,null}function yf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ig()){case mu:return 1;case af:return 4;case ns:case sg:return 16;case cf:return 536870912;default:return 16}default:return 16}}var Pt=null,vu=null,Hi=null;function vf(){if(Hi)return Hi;var t,e=vu,n=e.length,r,i="value"in Pt?Pt.value:Pt.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Hi=i.slice(t,1<r?1-r:void 0)}function $i(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ni(){return!0}function ja(){return!1}function ze(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ni:ja,this.isPropagationStopped=ja,this}return q(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),e}var nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wu=ze(nr),ai=q({},nr,{view:0,detail:0}),yg=ze(ai),go,_o,pr,Us=q({},ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Su,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pr&&(pr&&t.type==="mousemove"?(go=t.screenX-pr.screenX,_o=t.screenY-pr.screenY):_o=go=0,pr=t),go)},movementY:function(t){return"movementY"in t?t.movementY:_o}}),Ha=ze(Us),vg=q({},Us,{dataTransfer:0}),wg=ze(vg),Sg=q({},ai,{relatedTarget:0}),yo=ze(Sg),Eg=q({},nr,{animationName:0,elapsedTime:0,pseudoElement:0}),Cg=ze(Eg),kg=q({},nr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tg=ze(kg),Ig=q({},nr,{data:0}),$a=ze(Ig),Ng={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pg(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xg[t])?!!e[t]:!1}function Su(){return Pg}var Dg=q({},ai,{key:function(t){if(t.key){var e=Ng[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$i(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Rg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Su,charCode:function(t){return t.type==="keypress"?$i(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$i(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ag=ze(Dg),Og=q({},Us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Va=ze(Og),Mg=q({},ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Su}),Lg=ze(Mg),Fg=q({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),zg=ze(Fg),Ug=q({},Us,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Bg=ze(Ug),Wg=[9,13,27,32],Eu=gt&&"CompositionEvent"in window,Rr=null;gt&&"documentMode"in document&&(Rr=document.documentMode);var jg=gt&&"TextEvent"in window&&!Rr,wf=gt&&(!Eu||Rr&&8<Rr&&11>=Rr),ba=" ",Ga=!1;function Sf(t,e){switch(t){case"keyup":return Wg.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ef(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Tn=!1;function Hg(t,e){switch(t){case"compositionend":return Ef(e);case"keypress":return e.which!==32?null:(Ga=!0,ba);case"textInput":return t=e.data,t===ba&&Ga?null:t;default:return null}}function $g(t,e){if(Tn)return t==="compositionend"||!Eu&&Sf(t,e)?(t=vf(),Hi=vu=Pt=null,Tn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wf&&e.locale!=="ko"?null:e.data;default:return null}}var Vg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qa(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Vg[t.type]:e==="textarea"}function Cf(t,e,n,r){Zd(r),e=os(e,"onChange"),0<e.length&&(n=new wu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var xr=null,br=null;function bg(t){Mf(t,0)}function Bs(t){var e=Rn(t);if(Gd(e))return t}function Gg(t,e){if(t==="change")return e}var kf=!1;if(gt){var vo;if(gt){var wo="oninput"in document;if(!wo){var Ka=document.createElement("div");Ka.setAttribute("oninput","return;"),wo=typeof Ka.oninput=="function"}vo=wo}else vo=!1;kf=vo&&(!document.documentMode||9<document.documentMode)}function Ya(){xr&&(xr.detachEvent("onpropertychange",Tf),br=xr=null)}function Tf(t){if(t.propertyName==="value"&&Bs(br)){var e=[];Cf(e,br,t,pu(t)),rf(bg,e)}}function Qg(t,e,n){t==="focusin"?(Ya(),xr=e,br=n,xr.attachEvent("onpropertychange",Tf)):t==="focusout"&&Ya()}function Kg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bs(br)}function Yg(t,e){if(t==="click")return Bs(e)}function qg(t,e){if(t==="input"||t==="change")return Bs(e)}function Xg(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nt=typeof Object.is=="function"?Object.is:Xg;function Gr(t,e){if(nt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Qo.call(e,i)||!nt(t[i],e[i]))return!1}return!0}function qa(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xa(t,e){var n=qa(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qa(n)}}function If(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?If(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Nf(){for(var t=window,e=Zi();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Zi(t.document)}return e}function Cu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Jg(t){var e=Nf(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&If(n.ownerDocument.documentElement,n)){if(r!==null&&Cu(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Xa(n,s);var o=Xa(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Zg=gt&&"documentMode"in document&&11>=document.documentMode,In=null,fl=null,Pr=null,hl=!1;function Ja(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hl||In==null||In!==Zi(r)||(r=In,"selectionStart"in r&&Cu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pr&&Gr(Pr,r)||(Pr=r,r=os(fl,"onSelect"),0<r.length&&(e=new wu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=In)))}function Ri(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Nn={animationend:Ri("Animation","AnimationEnd"),animationiteration:Ri("Animation","AnimationIteration"),animationstart:Ri("Animation","AnimationStart"),transitionend:Ri("Transition","TransitionEnd")},So={},Rf={};gt&&(Rf=document.createElement("div").style,"AnimationEvent"in window||(delete Nn.animationend.animation,delete Nn.animationiteration.animation,delete Nn.animationstart.animation),"TransitionEvent"in window||delete Nn.transitionend.transition);function Ws(t){if(So[t])return So[t];if(!Nn[t])return t;var e=Nn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Rf)return So[t]=e[n];return t}var xf=Ws("animationend"),Pf=Ws("animationiteration"),Df=Ws("animationstart"),Af=Ws("transitionend"),Of=new Map,Za="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gt(t,e){Of.set(t,e),_n(e,[t])}for(var Eo=0;Eo<Za.length;Eo++){var Co=Za[Eo],e_=Co.toLowerCase(),t_=Co[0].toUpperCase()+Co.slice(1);Gt(e_,"on"+t_)}Gt(xf,"onAnimationEnd");Gt(Pf,"onAnimationIteration");Gt(Df,"onAnimationStart");Gt("dblclick","onDoubleClick");Gt("focusin","onFocus");Gt("focusout","onBlur");Gt(Af,"onTransitionEnd");bn("onMouseEnter",["mouseout","mouseover"]);bn("onMouseLeave",["mouseout","mouseover"]);bn("onPointerEnter",["pointerout","pointerover"]);bn("onPointerLeave",["pointerout","pointerover"]);_n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_n("onBeforeInput",["compositionend","keypress","textInput","paste"]);_n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function ec(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,eg(r,e,void 0,t),t.currentTarget=null}function Mf(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,a=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;ec(i,l,a),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,a=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;ec(i,l,a),s=u}}}if(ts)throw t=ul,ts=!1,ul=null,t}function H(t,e){var n=e[yl];n===void 0&&(n=e[yl]=new Set);var r=t+"__bubble";n.has(r)||(Lf(e,t,2,!1),n.add(r))}function ko(t,e,n){var r=0;e&&(r|=4),Lf(n,t,r,e)}var xi="_reactListening"+Math.random().toString(36).slice(2);function Qr(t){if(!t[xi]){t[xi]=!0,jd.forEach(function(n){n!=="selectionchange"&&(n_.has(n)||ko(n,!1,t),ko(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xi]||(e[xi]=!0,ko("selectionchange",!1,e))}}function Lf(t,e,n,r){switch(yf(e)){case 1:var i=gg;break;case 4:i=_g;break;default:i=yu}n=i.bind(null,e,n,t),i=void 0,!ll||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function To(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=tn(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}rf(function(){var a=s,d=pu(n),c=[];e:{var f=Of.get(t);if(f!==void 0){var g=wu,_=t;switch(t){case"keypress":if($i(n)===0)break e;case"keydown":case"keyup":g=Ag;break;case"focusin":_="focus",g=yo;break;case"focusout":_="blur",g=yo;break;case"beforeblur":case"afterblur":g=yo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Ha;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=wg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Lg;break;case xf:case Pf:case Df:g=Cg;break;case Af:g=zg;break;case"scroll":g=yg;break;case"wheel":g=Bg;break;case"copy":case"cut":case"paste":g=Tg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Va}var w=(e&4)!==0,P=!w&&t==="scroll",p=w?f!==null?f+"Capture":null:f;w=[];for(var h=a,m;h!==null;){m=h;var y=m.stateNode;if(m.tag===5&&y!==null&&(m=y,p!==null&&(y=jr(h,p),y!=null&&w.push(Kr(h,y,m)))),P)break;h=h.return}0<w.length&&(f=new g(f,_,null,n,d),c.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==sl&&(_=n.relatedTarget||n.fromElement)&&(tn(_)||_[_t]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=a,_=_?tn(_):null,_!==null&&(P=yn(_),_!==P||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=a),g!==_)){if(w=Ha,y="onMouseLeave",p="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(w=Va,y="onPointerLeave",p="onPointerEnter",h="pointer"),P=g==null?f:Rn(g),m=_==null?f:Rn(_),f=new w(y,h+"leave",g,n,d),f.target=P,f.relatedTarget=m,y=null,tn(d)===a&&(w=new w(p,h+"enter",_,n,d),w.target=m,w.relatedTarget=P,y=w),P=y,g&&_)t:{for(w=g,p=_,h=0,m=w;m;m=Sn(m))h++;for(m=0,y=p;y;y=Sn(y))m++;for(;0<h-m;)w=Sn(w),h--;for(;0<m-h;)p=Sn(p),m--;for(;h--;){if(w===p||p!==null&&w===p.alternate)break t;w=Sn(w),p=Sn(p)}w=null}else w=null;g!==null&&tc(c,f,g,w,!1),_!==null&&P!==null&&tc(c,P,_,w,!0)}}e:{if(f=a?Rn(a):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var C=Gg;else if(Qa(f))if(kf)C=qg;else{C=Kg;var T=Qg}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=Yg);if(C&&(C=C(t,a))){Cf(c,C,n,d);break e}T&&T(t,f,a),t==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&el(f,"number",f.value)}switch(T=a?Rn(a):window,t){case"focusin":(Qa(T)||T.contentEditable==="true")&&(In=T,fl=a,Pr=null);break;case"focusout":Pr=fl=In=null;break;case"mousedown":hl=!0;break;case"contextmenu":case"mouseup":case"dragend":hl=!1,Ja(c,n,d);break;case"selectionchange":if(Zg)break;case"keydown":case"keyup":Ja(c,n,d)}var I;if(Eu)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Tn?Sf(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(wf&&n.locale!=="ko"&&(Tn||N!=="onCompositionStart"?N==="onCompositionEnd"&&Tn&&(I=vf()):(Pt=d,vu="value"in Pt?Pt.value:Pt.textContent,Tn=!0)),T=os(a,N),0<T.length&&(N=new $a(N,t,null,n,d),c.push({event:N,listeners:T}),I?N.data=I:(I=Ef(n),I!==null&&(N.data=I)))),(I=jg?Hg(t,n):$g(t,n))&&(a=os(a,"onBeforeInput"),0<a.length&&(d=new $a("onBeforeInput","beforeinput",null,n,d),c.push({event:d,listeners:a}),d.data=I))}Mf(c,e)})}function Kr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function os(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=jr(t,n),s!=null&&r.unshift(Kr(t,s,i)),s=jr(t,e),s!=null&&r.push(Kr(t,s,i))),t=t.return}return r}function Sn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function tc(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,a=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&a!==null&&(l=a,i?(u=jr(n,s),u!=null&&o.unshift(Kr(n,u,l))):i||(u=jr(n,s),u!=null&&o.push(Kr(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var r_=/\r\n?/g,i_=/\u0000|\uFFFD/g;function nc(t){return(typeof t=="string"?t:""+t).replace(r_,`
`).replace(i_,"")}function Pi(t,e,n){if(e=nc(e),nc(t)!==e&&n)throw Error(v(425))}function ls(){}var pl=null,ml=null;function gl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _l=typeof setTimeout=="function"?setTimeout:void 0,s_=typeof clearTimeout=="function"?clearTimeout:void 0,rc=typeof Promise=="function"?Promise:void 0,o_=typeof queueMicrotask=="function"?queueMicrotask:typeof rc<"u"?function(t){return rc.resolve(null).then(t).catch(l_)}:_l;function l_(t){setTimeout(function(){throw t})}function Io(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Vr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Vr(e)}function Lt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ic(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var rr=Math.random().toString(36).slice(2),st="__reactFiber$"+rr,Yr="__reactProps$"+rr,_t="__reactContainer$"+rr,yl="__reactEvents$"+rr,u_="__reactListeners$"+rr,a_="__reactHandles$"+rr;function tn(t){var e=t[st];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_t]||n[st]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ic(t);t!==null;){if(n=t[st])return n;t=ic(t)}return e}t=n,n=t.parentNode}return null}function ci(t){return t=t[st]||t[_t],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Rn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(v(33))}function js(t){return t[Yr]||null}var vl=[],xn=-1;function Qt(t){return{current:t}}function b(t){0>xn||(t.current=vl[xn],vl[xn]=null,xn--)}function j(t,e){xn++,vl[xn]=t.current,t.current=e}var Vt={},we=Qt(Vt),Re=Qt(!1),an=Vt;function Gn(t,e){var n=t.type.contextTypes;if(!n)return Vt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function xe(t){return t=t.childContextTypes,t!=null}function us(){b(Re),b(we)}function sc(t,e,n){if(we.current!==Vt)throw Error(v(168));j(we,e),j(Re,n)}function Ff(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(v(108,Qm(t)||"Unknown",i));return q({},n,r)}function as(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vt,an=we.current,j(we,t),j(Re,Re.current),!0}function oc(t,e,n){var r=t.stateNode;if(!r)throw Error(v(169));n?(t=Ff(t,e,an),r.__reactInternalMemoizedMergedChildContext=t,b(Re),b(we),j(we,t)):b(Re),j(Re,n)}var ct=null,Hs=!1,No=!1;function zf(t){ct===null?ct=[t]:ct.push(t)}function c_(t){Hs=!0,zf(t)}function Kt(){if(!No&&ct!==null){No=!0;var t=0,e=U;try{var n=ct;for(U=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ct=null,Hs=!1}catch(i){throw ct!==null&&(ct=ct.slice(t+1)),uf(mu,Kt),i}finally{U=e,No=!1}}return null}var Pn=[],Dn=0,cs=null,ds=0,Ue=[],Be=0,cn=null,dt=1,ft="";function Xt(t,e){Pn[Dn++]=ds,Pn[Dn++]=cs,cs=t,ds=e}function Uf(t,e,n){Ue[Be++]=dt,Ue[Be++]=ft,Ue[Be++]=cn,cn=t;var r=dt;t=ft;var i=32-Ze(r)-1;r&=~(1<<i),n+=1;var s=32-Ze(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,dt=1<<32-Ze(e)+i|n<<i|r,ft=s+t}else dt=1<<s|n<<i|r,ft=t}function ku(t){t.return!==null&&(Xt(t,1),Uf(t,1,0))}function Tu(t){for(;t===cs;)cs=Pn[--Dn],Pn[Dn]=null,ds=Pn[--Dn],Pn[Dn]=null;for(;t===cn;)cn=Ue[--Be],Ue[Be]=null,ft=Ue[--Be],Ue[Be]=null,dt=Ue[--Be],Ue[Be]=null}var Me=null,Oe=null,Q=!1,qe=null;function Bf(t,e){var n=We(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function lc(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Me=t,Oe=Lt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Me=t,Oe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=cn!==null?{id:dt,overflow:ft}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=We(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Me=t,Oe=null,!0):!1;default:return!1}}function wl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sl(t){if(Q){var e=Oe;if(e){var n=e;if(!lc(t,e)){if(wl(t))throw Error(v(418));e=Lt(n.nextSibling);var r=Me;e&&lc(t,e)?Bf(r,n):(t.flags=t.flags&-4097|2,Q=!1,Me=t)}}else{if(wl(t))throw Error(v(418));t.flags=t.flags&-4097|2,Q=!1,Me=t}}}function uc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Me=t}function Di(t){if(t!==Me)return!1;if(!Q)return uc(t),Q=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!gl(t.type,t.memoizedProps)),e&&(e=Oe)){if(wl(t))throw Wf(),Error(v(418));for(;e;)Bf(t,e),e=Lt(e.nextSibling)}if(uc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(v(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Oe=Lt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Oe=null}}else Oe=Me?Lt(t.stateNode.nextSibling):null;return!0}function Wf(){for(var t=Oe;t;)t=Lt(t.nextSibling)}function Qn(){Oe=Me=null,Q=!1}function Iu(t){qe===null?qe=[t]:qe.push(t)}var d_=Ct.ReactCurrentBatchConfig;function mr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(v(309));var r=n.stateNode}if(!r)throw Error(v(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(v(284));if(!n._owner)throw Error(v(290,t))}return t}function Ai(t,e){throw t=Object.prototype.toString.call(e),Error(v(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ac(t){var e=t._init;return e(t._payload)}function jf(t){function e(p,h){if(t){var m=p.deletions;m===null?(p.deletions=[h],p.flags|=16):m.push(h)}}function n(p,h){if(!t)return null;for(;h!==null;)e(p,h),h=h.sibling;return null}function r(p,h){for(p=new Map;h!==null;)h.key!==null?p.set(h.key,h):p.set(h.index,h),h=h.sibling;return p}function i(p,h){return p=Bt(p,h),p.index=0,p.sibling=null,p}function s(p,h,m){return p.index=m,t?(m=p.alternate,m!==null?(m=m.index,m<h?(p.flags|=2,h):m):(p.flags|=2,h)):(p.flags|=1048576,h)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function l(p,h,m,y){return h===null||h.tag!==6?(h=Mo(m,p.mode,y),h.return=p,h):(h=i(h,m),h.return=p,h)}function u(p,h,m,y){var C=m.type;return C===kn?d(p,h,m.props.children,y,m.key):h!==null&&(h.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===It&&ac(C)===h.type)?(y=i(h,m.props),y.ref=mr(p,h,m),y.return=p,y):(y=qi(m.type,m.key,m.props,null,p.mode,y),y.ref=mr(p,h,m),y.return=p,y)}function a(p,h,m,y){return h===null||h.tag!==4||h.stateNode.containerInfo!==m.containerInfo||h.stateNode.implementation!==m.implementation?(h=Lo(m,p.mode,y),h.return=p,h):(h=i(h,m.children||[]),h.return=p,h)}function d(p,h,m,y,C){return h===null||h.tag!==7?(h=un(m,p.mode,y,C),h.return=p,h):(h=i(h,m),h.return=p,h)}function c(p,h,m){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Mo(""+h,p.mode,m),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Si:return m=qi(h.type,h.key,h.props,null,p.mode,m),m.ref=mr(p,null,h),m.return=p,m;case Cn:return h=Lo(h,p.mode,m),h.return=p,h;case It:var y=h._init;return c(p,y(h._payload),m)}if(Cr(h)||cr(h))return h=un(h,p.mode,m,null),h.return=p,h;Ai(p,h)}return null}function f(p,h,m,y){var C=h!==null?h.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return C!==null?null:l(p,h,""+m,y);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Si:return m.key===C?u(p,h,m,y):null;case Cn:return m.key===C?a(p,h,m,y):null;case It:return C=m._init,f(p,h,C(m._payload),y)}if(Cr(m)||cr(m))return C!==null?null:d(p,h,m,y,null);Ai(p,m)}return null}function g(p,h,m,y,C){if(typeof y=="string"&&y!==""||typeof y=="number")return p=p.get(m)||null,l(h,p,""+y,C);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Si:return p=p.get(y.key===null?m:y.key)||null,u(h,p,y,C);case Cn:return p=p.get(y.key===null?m:y.key)||null,a(h,p,y,C);case It:var T=y._init;return g(p,h,m,T(y._payload),C)}if(Cr(y)||cr(y))return p=p.get(m)||null,d(h,p,y,C,null);Ai(h,y)}return null}function _(p,h,m,y){for(var C=null,T=null,I=h,N=h=0,J=null;I!==null&&N<m.length;N++){I.index>N?(J=I,I=null):J=I.sibling;var O=f(p,I,m[N],y);if(O===null){I===null&&(I=J);break}t&&I&&O.alternate===null&&e(p,I),h=s(O,h,N),T===null?C=O:T.sibling=O,T=O,I=J}if(N===m.length)return n(p,I),Q&&Xt(p,N),C;if(I===null){for(;N<m.length;N++)I=c(p,m[N],y),I!==null&&(h=s(I,h,N),T===null?C=I:T.sibling=I,T=I);return Q&&Xt(p,N),C}for(I=r(p,I);N<m.length;N++)J=g(I,p,N,m[N],y),J!==null&&(t&&J.alternate!==null&&I.delete(J.key===null?N:J.key),h=s(J,h,N),T===null?C=J:T.sibling=J,T=J);return t&&I.forEach(function(Ge){return e(p,Ge)}),Q&&Xt(p,N),C}function w(p,h,m,y){var C=cr(m);if(typeof C!="function")throw Error(v(150));if(m=C.call(m),m==null)throw Error(v(151));for(var T=C=null,I=h,N=h=0,J=null,O=m.next();I!==null&&!O.done;N++,O=m.next()){I.index>N?(J=I,I=null):J=I.sibling;var Ge=f(p,I,O.value,y);if(Ge===null){I===null&&(I=J);break}t&&I&&Ge.alternate===null&&e(p,I),h=s(Ge,h,N),T===null?C=Ge:T.sibling=Ge,T=Ge,I=J}if(O.done)return n(p,I),Q&&Xt(p,N),C;if(I===null){for(;!O.done;N++,O=m.next())O=c(p,O.value,y),O!==null&&(h=s(O,h,N),T===null?C=O:T.sibling=O,T=O);return Q&&Xt(p,N),C}for(I=r(p,I);!O.done;N++,O=m.next())O=g(I,p,N,O.value,y),O!==null&&(t&&O.alternate!==null&&I.delete(O.key===null?N:O.key),h=s(O,h,N),T===null?C=O:T.sibling=O,T=O);return t&&I.forEach(function(ur){return e(p,ur)}),Q&&Xt(p,N),C}function P(p,h,m,y){if(typeof m=="object"&&m!==null&&m.type===kn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Si:e:{for(var C=m.key,T=h;T!==null;){if(T.key===C){if(C=m.type,C===kn){if(T.tag===7){n(p,T.sibling),h=i(T,m.props.children),h.return=p,p=h;break e}}else if(T.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===It&&ac(C)===T.type){n(p,T.sibling),h=i(T,m.props),h.ref=mr(p,T,m),h.return=p,p=h;break e}n(p,T);break}else e(p,T);T=T.sibling}m.type===kn?(h=un(m.props.children,p.mode,y,m.key),h.return=p,p=h):(y=qi(m.type,m.key,m.props,null,p.mode,y),y.ref=mr(p,h,m),y.return=p,p=y)}return o(p);case Cn:e:{for(T=m.key;h!==null;){if(h.key===T)if(h.tag===4&&h.stateNode.containerInfo===m.containerInfo&&h.stateNode.implementation===m.implementation){n(p,h.sibling),h=i(h,m.children||[]),h.return=p,p=h;break e}else{n(p,h);break}else e(p,h);h=h.sibling}h=Lo(m,p.mode,y),h.return=p,p=h}return o(p);case It:return T=m._init,P(p,h,T(m._payload),y)}if(Cr(m))return _(p,h,m,y);if(cr(m))return w(p,h,m,y);Ai(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,h!==null&&h.tag===6?(n(p,h.sibling),h=i(h,m),h.return=p,p=h):(n(p,h),h=Mo(m,p.mode,y),h.return=p,p=h),o(p)):n(p,h)}return P}var Kn=jf(!0),Hf=jf(!1),fs=Qt(null),hs=null,An=null,Nu=null;function Ru(){Nu=An=hs=null}function xu(t){var e=fs.current;b(fs),t._currentValue=e}function El(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Wn(t,e){hs=t,Nu=An=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ie=!0),t.firstContext=null)}function $e(t){var e=t._currentValue;if(Nu!==t)if(t={context:t,memoizedValue:e,next:null},An===null){if(hs===null)throw Error(v(308));An=t,hs.dependencies={lanes:0,firstContext:t}}else An=An.next=t;return e}var nn=null;function Pu(t){nn===null?nn=[t]:nn.push(t)}function $f(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Pu(e)):(n.next=i.next,i.next=n),e.interleaved=n,yt(t,r)}function yt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Nt=!1;function Du(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ft(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,F&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,yt(t,n)}return i=r.interleaved,i===null?(e.next=e,Pu(r)):(e.next=i.next,i.next=e),r.interleaved=e,yt(t,n)}function Vi(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gu(t,n)}}function cc(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ps(t,e,n,r){var i=t.updateQueue;Nt=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,a=u.next;u.next=null,o===null?s=a:o.next=a,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=a:l.next=a,d.lastBaseUpdate=u))}if(s!==null){var c=i.baseState;o=0,d=a=u=null,l=s;do{var f=l.lane,g=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=t,w=l;switch(f=e,g=n,w.tag){case 1:if(_=w.payload,typeof _=="function"){c=_.call(g,c,f);break e}c=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=w.payload,f=typeof _=="function"?_.call(g,c,f):_,f==null)break e;c=q({},c,f);break e;case 2:Nt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else g={eventTime:g,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(a=d=g,u=c):d=d.next=g,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(u=c),i.baseState=u,i.firstBaseUpdate=a,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);fn|=o,t.lanes=o,t.memoizedState=c}}function dc(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(v(191,i));i.call(r)}}}var di={},ut=Qt(di),qr=Qt(di),Xr=Qt(di);function rn(t){if(t===di)throw Error(v(174));return t}function Au(t,e){switch(j(Xr,e),j(qr,t),j(ut,di),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:nl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=nl(e,t)}b(ut),j(ut,e)}function Yn(){b(ut),b(qr),b(Xr)}function bf(t){rn(Xr.current);var e=rn(ut.current),n=nl(e,t.type);e!==n&&(j(qr,t),j(ut,n))}function Ou(t){qr.current===t&&(b(ut),b(qr))}var K=Qt(0);function ms(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ro=[];function Mu(){for(var t=0;t<Ro.length;t++)Ro[t]._workInProgressVersionPrimary=null;Ro.length=0}var bi=Ct.ReactCurrentDispatcher,xo=Ct.ReactCurrentBatchConfig,dn=0,Y=null,ne=null,le=null,gs=!1,Dr=!1,Jr=0,f_=0;function me(){throw Error(v(321))}function Lu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!nt(t[n],e[n]))return!1;return!0}function Fu(t,e,n,r,i,s){if(dn=s,Y=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bi.current=t===null||t.memoizedState===null?g_:__,t=n(r,i),Dr){s=0;do{if(Dr=!1,Jr=0,25<=s)throw Error(v(301));s+=1,le=ne=null,e.updateQueue=null,bi.current=y_,t=n(r,i)}while(Dr)}if(bi.current=_s,e=ne!==null&&ne.next!==null,dn=0,le=ne=Y=null,gs=!1,e)throw Error(v(300));return t}function zu(){var t=Jr!==0;return Jr=0,t}function it(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return le===null?Y.memoizedState=le=t:le=le.next=t,le}function Ve(){if(ne===null){var t=Y.alternate;t=t!==null?t.memoizedState:null}else t=ne.next;var e=le===null?Y.memoizedState:le.next;if(e!==null)le=e,ne=t;else{if(t===null)throw Error(v(310));ne=t,t={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},le===null?Y.memoizedState=le=t:le=le.next=t}return le}function Zr(t,e){return typeof e=="function"?e(t):e}function Po(t){var e=Ve(),n=e.queue;if(n===null)throw Error(v(311));n.lastRenderedReducer=t;var r=ne,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,a=s;do{var d=a.lane;if((dn&d)===d)u!==null&&(u=u.next={lane:0,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null}),r=a.hasEagerState?a.eagerState:t(r,a.action);else{var c={lane:d,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null};u===null?(l=u=c,o=r):u=u.next=c,Y.lanes|=d,fn|=d}a=a.next}while(a!==null&&a!==s);u===null?o=r:u.next=l,nt(r,e.memoizedState)||(Ie=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Y.lanes|=s,fn|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Do(t){var e=Ve(),n=e.queue;if(n===null)throw Error(v(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);nt(s,e.memoizedState)||(Ie=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Gf(){}function Qf(t,e){var n=Y,r=Ve(),i=e(),s=!nt(r.memoizedState,i);if(s&&(r.memoizedState=i,Ie=!0),r=r.queue,Uu(qf.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||le!==null&&le.memoizedState.tag&1){if(n.flags|=2048,ei(9,Yf.bind(null,n,r,i,e),void 0,null),ae===null)throw Error(v(349));dn&30||Kf(n,e,i)}return i}function Kf(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Y.updateQueue,e===null?(e={lastEffect:null,stores:null},Y.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Yf(t,e,n,r){e.value=n,e.getSnapshot=r,Xf(e)&&Jf(t)}function qf(t,e,n){return n(function(){Xf(e)&&Jf(t)})}function Xf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!nt(t,n)}catch{return!0}}function Jf(t){var e=yt(t,1);e!==null&&et(e,t,1,-1)}function fc(t){var e=it();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:t},e.queue=t,t=t.dispatch=m_.bind(null,Y,t),[e.memoizedState,t]}function ei(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Y.updateQueue,e===null?(e={lastEffect:null,stores:null},Y.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Zf(){return Ve().memoizedState}function Gi(t,e,n,r){var i=it();Y.flags|=t,i.memoizedState=ei(1|e,n,void 0,r===void 0?null:r)}function $s(t,e,n,r){var i=Ve();r=r===void 0?null:r;var s=void 0;if(ne!==null){var o=ne.memoizedState;if(s=o.destroy,r!==null&&Lu(r,o.deps)){i.memoizedState=ei(e,n,s,r);return}}Y.flags|=t,i.memoizedState=ei(1|e,n,s,r)}function hc(t,e){return Gi(8390656,8,t,e)}function Uu(t,e){return $s(2048,8,t,e)}function eh(t,e){return $s(4,2,t,e)}function th(t,e){return $s(4,4,t,e)}function nh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function rh(t,e,n){return n=n!=null?n.concat([t]):null,$s(4,4,nh.bind(null,e,t),n)}function Bu(){}function ih(t,e){var n=Ve();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function sh(t,e){var n=Ve();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function oh(t,e,n){return dn&21?(nt(n,e)||(n=df(),Y.lanes|=n,fn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ie=!0),t.memoizedState=n)}function h_(t,e){var n=U;U=n!==0&&4>n?n:4,t(!0);var r=xo.transition;xo.transition={};try{t(!1),e()}finally{U=n,xo.transition=r}}function lh(){return Ve().memoizedState}function p_(t,e,n){var r=Ut(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uh(t))ah(e,n);else if(n=$f(t,e,n,r),n!==null){var i=Ee();et(n,t,r,i),ch(n,e,r)}}function m_(t,e,n){var r=Ut(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uh(t))ah(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,nt(l,o)){var u=e.interleaved;u===null?(i.next=i,Pu(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=$f(t,e,i,r),n!==null&&(i=Ee(),et(n,t,r,i),ch(n,e,r))}}function uh(t){var e=t.alternate;return t===Y||e!==null&&e===Y}function ah(t,e){Dr=gs=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ch(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gu(t,n)}}var _s={readContext:$e,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useInsertionEffect:me,useLayoutEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useMutableSource:me,useSyncExternalStore:me,useId:me,unstable_isNewReconciler:!1},g_={readContext:$e,useCallback:function(t,e){return it().memoizedState=[t,e===void 0?null:e],t},useContext:$e,useEffect:hc,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Gi(4194308,4,nh.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Gi(4194308,4,t,e)},useInsertionEffect:function(t,e){return Gi(4,2,t,e)},useMemo:function(t,e){var n=it();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=it();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=p_.bind(null,Y,t),[r.memoizedState,t]},useRef:function(t){var e=it();return t={current:t},e.memoizedState=t},useState:fc,useDebugValue:Bu,useDeferredValue:function(t){return it().memoizedState=t},useTransition:function(){var t=fc(!1),e=t[0];return t=h_.bind(null,t[1]),it().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Y,i=it();if(Q){if(n===void 0)throw Error(v(407));n=n()}else{if(n=e(),ae===null)throw Error(v(349));dn&30||Kf(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,hc(qf.bind(null,r,s,t),[t]),r.flags|=2048,ei(9,Yf.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=it(),e=ae.identifierPrefix;if(Q){var n=ft,r=dt;n=(r&~(1<<32-Ze(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Jr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=f_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},__={readContext:$e,useCallback:ih,useContext:$e,useEffect:Uu,useImperativeHandle:rh,useInsertionEffect:eh,useLayoutEffect:th,useMemo:sh,useReducer:Po,useRef:Zf,useState:function(){return Po(Zr)},useDebugValue:Bu,useDeferredValue:function(t){var e=Ve();return oh(e,ne.memoizedState,t)},useTransition:function(){var t=Po(Zr)[0],e=Ve().memoizedState;return[t,e]},useMutableSource:Gf,useSyncExternalStore:Qf,useId:lh,unstable_isNewReconciler:!1},y_={readContext:$e,useCallback:ih,useContext:$e,useEffect:Uu,useImperativeHandle:rh,useInsertionEffect:eh,useLayoutEffect:th,useMemo:sh,useReducer:Do,useRef:Zf,useState:function(){return Do(Zr)},useDebugValue:Bu,useDeferredValue:function(t){var e=Ve();return ne===null?e.memoizedState=t:oh(e,ne.memoizedState,t)},useTransition:function(){var t=Do(Zr)[0],e=Ve().memoizedState;return[t,e]},useMutableSource:Gf,useSyncExternalStore:Qf,useId:lh,unstable_isNewReconciler:!1};function Ke(t,e){if(t&&t.defaultProps){e=q({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Cl(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:q({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Vs={isMounted:function(t){return(t=t._reactInternals)?yn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ee(),i=Ut(t),s=pt(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ft(t,s,i),e!==null&&(et(e,t,i,r),Vi(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ee(),i=Ut(t),s=pt(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ft(t,s,i),e!==null&&(et(e,t,i,r),Vi(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ee(),r=Ut(t),i=pt(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ft(t,i,r),e!==null&&(et(e,t,r,n),Vi(e,t,r))}};function pc(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Gr(n,r)||!Gr(i,s):!0}function dh(t,e,n){var r=!1,i=Vt,s=e.contextType;return typeof s=="object"&&s!==null?s=$e(s):(i=xe(e)?an:we.current,r=e.contextTypes,s=(r=r!=null)?Gn(t,i):Vt),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vs,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function mc(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Vs.enqueueReplaceState(e,e.state,null)}function kl(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Du(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=$e(s):(s=xe(e)?an:we.current,i.context=Gn(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Cl(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Vs.enqueueReplaceState(i,i.state,null),ps(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function qn(t,e){try{var n="",r=e;do n+=Gm(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ao(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Tl(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var v_=typeof WeakMap=="function"?WeakMap:Map;function fh(t,e,n){n=pt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){vs||(vs=!0,Ll=r),Tl(t,e)},n}function hh(t,e,n){n=pt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Tl(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Tl(t,e),typeof r!="function"&&(zt===null?zt=new Set([this]):zt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function gc(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new v_;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=O_.bind(null,t,e,n),e.then(t,t))}function _c(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function yc(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pt(-1,1),e.tag=2,Ft(n,e,1))),n.lanes|=1),t)}var w_=Ct.ReactCurrentOwner,Ie=!1;function Se(t,e,n,r){e.child=t===null?Hf(e,null,n,r):Kn(e,t.child,n,r)}function vc(t,e,n,r,i){n=n.render;var s=e.ref;return Wn(e,i),r=Fu(t,e,n,r,s,i),n=zu(),t!==null&&!Ie?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vt(t,e,i)):(Q&&n&&ku(e),e.flags|=1,Se(t,e,r,i),e.child)}function wc(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Qu(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,ph(t,e,s,r,i)):(t=qi(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Gr,n(o,r)&&t.ref===e.ref)return vt(t,e,i)}return e.flags|=1,t=Bt(s,r),t.ref=e.ref,t.return=e,e.child=t}function ph(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Gr(s,r)&&t.ref===e.ref)if(Ie=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ie=!0);else return e.lanes=t.lanes,vt(t,e,i)}return Il(t,e,n,r,i)}function mh(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},j(Mn,Ae),Ae|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,j(Mn,Ae),Ae|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,j(Mn,Ae),Ae|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,j(Mn,Ae),Ae|=r;return Se(t,e,i,n),e.child}function gh(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Il(t,e,n,r,i){var s=xe(n)?an:we.current;return s=Gn(e,s),Wn(e,i),n=Fu(t,e,n,r,s,i),r=zu(),t!==null&&!Ie?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vt(t,e,i)):(Q&&r&&ku(e),e.flags|=1,Se(t,e,n,i),e.child)}function Sc(t,e,n,r,i){if(xe(n)){var s=!0;as(e)}else s=!1;if(Wn(e,i),e.stateNode===null)Qi(t,e),dh(e,n,r),kl(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,a=n.contextType;typeof a=="object"&&a!==null?a=$e(a):(a=xe(n)?an:we.current,a=Gn(e,a));var d=n.getDerivedStateFromProps,c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==a)&&mc(e,o,r,a),Nt=!1;var f=e.memoizedState;o.state=f,ps(e,r,o,i),u=e.memoizedState,l!==r||f!==u||Re.current||Nt?(typeof d=="function"&&(Cl(e,n,d,r),u=e.memoizedState),(l=Nt||pc(e,n,l,r,f,u,a))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=a,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Vf(t,e),l=e.memoizedProps,a=e.type===e.elementType?l:Ke(e.type,l),o.props=a,c=e.pendingProps,f=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=$e(u):(u=xe(n)?an:we.current,u=Gn(e,u));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==c||f!==u)&&mc(e,o,r,u),Nt=!1,f=e.memoizedState,o.state=f,ps(e,r,o,i);var _=e.memoizedState;l!==c||f!==_||Re.current||Nt?(typeof g=="function"&&(Cl(e,n,g,r),_=e.memoizedState),(a=Nt||pc(e,n,a,r,f,_,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=u,r=a):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Nl(t,e,n,r,s,i)}function Nl(t,e,n,r,i,s){gh(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&oc(e,n,!1),vt(t,e,s);r=e.stateNode,w_.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Kn(e,t.child,null,s),e.child=Kn(e,null,l,s)):Se(t,e,l,s),e.memoizedState=r.state,i&&oc(e,n,!0),e.child}function _h(t){var e=t.stateNode;e.pendingContext?sc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&sc(t,e.context,!1),Au(t,e.containerInfo)}function Ec(t,e,n,r,i){return Qn(),Iu(i),e.flags|=256,Se(t,e,n,r),e.child}var Rl={dehydrated:null,treeContext:null,retryLane:0};function xl(t){return{baseLanes:t,cachePool:null,transitions:null}}function yh(t,e,n){var r=e.pendingProps,i=K.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),j(K,i&1),t===null)return Sl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Qs(o,r,0,null),t=un(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=xl(n),e.memoizedState=Rl,t):Wu(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return S_(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Bt(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Bt(l,s):(s=un(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?xl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Rl,r}return s=t.child,t=s.sibling,r=Bt(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Wu(t,e){return e=Qs({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Oi(t,e,n,r){return r!==null&&Iu(r),Kn(e,t.child,null,n),t=Wu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function S_(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ao(Error(v(422))),Oi(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Qs({mode:"visible",children:r.children},i,0,null),s=un(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Kn(e,t.child,null,o),e.child.memoizedState=xl(o),e.memoizedState=Rl,s);if(!(e.mode&1))return Oi(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(v(419)),r=Ao(s,r,void 0),Oi(t,e,o,r)}if(l=(o&t.childLanes)!==0,Ie||l){if(r=ae,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,yt(t,i),et(r,t,i,-1))}return Gu(),r=Ao(Error(v(421))),Oi(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=M_.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Oe=Lt(i.nextSibling),Me=e,Q=!0,qe=null,t!==null&&(Ue[Be++]=dt,Ue[Be++]=ft,Ue[Be++]=cn,dt=t.id,ft=t.overflow,cn=e),e=Wu(e,r.children),e.flags|=4096,e)}function Cc(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),El(t.return,e,n)}function Oo(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function vh(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Se(t,e,r.children,n),r=K.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cc(t,n,e);else if(t.tag===19)Cc(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(j(K,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ms(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Oo(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ms(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Oo(e,!0,n,null,s);break;case"together":Oo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qi(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(v(153));if(e.child!==null){for(t=e.child,n=Bt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Bt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function E_(t,e,n){switch(e.tag){case 3:_h(e),Qn();break;case 5:bf(e);break;case 1:xe(e.type)&&as(e);break;case 4:Au(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;j(fs,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(j(K,K.current&1),e.flags|=128,null):n&e.child.childLanes?yh(t,e,n):(j(K,K.current&1),t=vt(t,e,n),t!==null?t.sibling:null);j(K,K.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return vh(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),j(K,K.current),r)break;return null;case 22:case 23:return e.lanes=0,mh(t,e,n)}return vt(t,e,n)}var wh,Pl,Sh,Eh;wh=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pl=function(){};Sh=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,rn(ut.current);var s=null;switch(n){case"input":i=Jo(t,i),r=Jo(t,r),s=[];break;case"select":i=q({},i,{value:void 0}),r=q({},r,{value:void 0}),s=[];break;case"textarea":i=tl(t,i),r=tl(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ls)}rl(n,r);var o;n=null;for(a in i)if(!r.hasOwnProperty(a)&&i.hasOwnProperty(a)&&i[a]!=null)if(a==="style"){var l=i[a];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else a!=="dangerouslySetInnerHTML"&&a!=="children"&&a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Br.hasOwnProperty(a)?s||(s=[]):(s=s||[]).push(a,null));for(a in r){var u=r[a];if(l=i!=null?i[a]:void 0,r.hasOwnProperty(a)&&u!==l&&(u!=null||l!=null))if(a==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(a,n)),n=u;else a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(a,u)):a==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(a,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&(Br.hasOwnProperty(a)?(u!=null&&a==="onScroll"&&H("scroll",t),s||l===u||(s=[])):(s=s||[]).push(a,u))}n&&(s=s||[]).push("style",n);var a=s;(e.updateQueue=a)&&(e.flags|=4)}};Eh=function(t,e,n,r){n!==r&&(e.flags|=4)};function gr(t,e){if(!Q)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ge(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function C_(t,e,n){var r=e.pendingProps;switch(Tu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(e),null;case 1:return xe(e.type)&&us(),ge(e),null;case 3:return r=e.stateNode,Yn(),b(Re),b(we),Mu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Di(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qe!==null&&(Ul(qe),qe=null))),Pl(t,e),ge(e),null;case 5:Ou(e);var i=rn(Xr.current);if(n=e.type,t!==null&&e.stateNode!=null)Sh(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(v(166));return ge(e),null}if(t=rn(ut.current),Di(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[st]=e,r[Yr]=s,t=(e.mode&1)!==0,n){case"dialog":H("cancel",r),H("close",r);break;case"iframe":case"object":case"embed":H("load",r);break;case"video":case"audio":for(i=0;i<Tr.length;i++)H(Tr[i],r);break;case"source":H("error",r);break;case"img":case"image":case"link":H("error",r),H("load",r);break;case"details":H("toggle",r);break;case"input":Aa(r,s),H("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},H("invalid",r);break;case"textarea":Ma(r,s),H("invalid",r)}rl(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Pi(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Pi(r.textContent,l,t),i=["children",""+l]):Br.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&H("scroll",r)}switch(n){case"input":Ei(r),Oa(r,s,!0);break;case"textarea":Ei(r),La(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ls)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Yd(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[st]=e,t[Yr]=r,wh(t,e,!1,!1),e.stateNode=t;e:{switch(o=il(n,r),n){case"dialog":H("cancel",t),H("close",t),i=r;break;case"iframe":case"object":case"embed":H("load",t),i=r;break;case"video":case"audio":for(i=0;i<Tr.length;i++)H(Tr[i],t);i=r;break;case"source":H("error",t),i=r;break;case"img":case"image":case"link":H("error",t),H("load",t),i=r;break;case"details":H("toggle",t),i=r;break;case"input":Aa(t,r),i=Jo(t,r),H("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=q({},r,{value:void 0}),H("invalid",t);break;case"textarea":Ma(t,r),i=tl(t,r),H("invalid",t);break;default:i=r}rl(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?Jd(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&qd(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Wr(t,u):typeof u=="number"&&Wr(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Br.hasOwnProperty(s)?u!=null&&s==="onScroll"&&H("scroll",t):u!=null&&cu(t,s,u,o))}switch(n){case"input":Ei(t),Oa(t,r,!1);break;case"textarea":Ei(t),La(t);break;case"option":r.value!=null&&t.setAttribute("value",""+$t(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Fn(t,!!r.multiple,s,!1):r.defaultValue!=null&&Fn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ls)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ge(e),null;case 6:if(t&&e.stateNode!=null)Eh(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(v(166));if(n=rn(Xr.current),rn(ut.current),Di(e)){if(r=e.stateNode,n=e.memoizedProps,r[st]=e,(s=r.nodeValue!==n)&&(t=Me,t!==null))switch(t.tag){case 3:Pi(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Pi(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[st]=e,e.stateNode=r}return ge(e),null;case 13:if(b(K),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Q&&Oe!==null&&e.mode&1&&!(e.flags&128))Wf(),Qn(),e.flags|=98560,s=!1;else if(s=Di(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(v(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(v(317));s[st]=e}else Qn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ge(e),s=!1}else qe!==null&&(Ul(qe),qe=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||K.current&1?ie===0&&(ie=3):Gu())),e.updateQueue!==null&&(e.flags|=4),ge(e),null);case 4:return Yn(),Pl(t,e),t===null&&Qr(e.stateNode.containerInfo),ge(e),null;case 10:return xu(e.type._context),ge(e),null;case 17:return xe(e.type)&&us(),ge(e),null;case 19:if(b(K),s=e.memoizedState,s===null)return ge(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)gr(s,!1);else{if(ie!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ms(t),o!==null){for(e.flags|=128,gr(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return j(K,K.current&1|2),e.child}t=t.sibling}s.tail!==null&&ee()>Xn&&(e.flags|=128,r=!0,gr(s,!1),e.lanes=4194304)}else{if(!r)if(t=ms(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),gr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Q)return ge(e),null}else 2*ee()-s.renderingStartTime>Xn&&n!==1073741824&&(e.flags|=128,r=!0,gr(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ee(),e.sibling=null,n=K.current,j(K,r?n&1|2:n&1),e):(ge(e),null);case 22:case 23:return bu(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ae&1073741824&&(ge(e),e.subtreeFlags&6&&(e.flags|=8192)):ge(e),null;case 24:return null;case 25:return null}throw Error(v(156,e.tag))}function k_(t,e){switch(Tu(e),e.tag){case 1:return xe(e.type)&&us(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yn(),b(Re),b(we),Mu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ou(e),null;case 13:if(b(K),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(v(340));Qn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return b(K),null;case 4:return Yn(),null;case 10:return xu(e.type._context),null;case 22:case 23:return bu(),null;case 24:return null;default:return null}}var Mi=!1,_e=!1,T_=typeof WeakSet=="function"?WeakSet:Set,E=null;function On(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){X(t,e,r)}else n.current=null}function Dl(t,e,n){try{n()}catch(r){X(t,e,r)}}var kc=!1;function I_(t,e){if(pl=is,t=Nf(),Cu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,a=0,d=0,c=t,f=null;t:for(;;){for(var g;c!==n||i!==0&&c.nodeType!==3||(l=o+i),c!==s||r!==0&&c.nodeType!==3||(u=o+r),c.nodeType===3&&(o+=c.nodeValue.length),(g=c.firstChild)!==null;)f=c,c=g;for(;;){if(c===t)break t;if(f===n&&++a===i&&(l=o),f===s&&++d===r&&(u=o),(g=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=g}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ml={focusedElem:t,selectionRange:n},is=!1,E=e;E!==null;)if(e=E,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,E=t;else for(;E!==null;){e=E;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var w=_.memoizedProps,P=_.memoizedState,p=e.stateNode,h=p.getSnapshotBeforeUpdate(e.elementType===e.type?w:Ke(e.type,w),P);p.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(v(163))}}catch(y){X(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,E=t;break}E=e.return}return _=kc,kc=!1,_}function Ar(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Dl(e,n,s)}i=i.next}while(i!==r)}}function bs(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Al(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ch(t){var e=t.alternate;e!==null&&(t.alternate=null,Ch(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[st],delete e[Yr],delete e[yl],delete e[u_],delete e[a_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function kh(t){return t.tag===5||t.tag===3||t.tag===4}function Tc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||kh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ol(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ls));else if(r!==4&&(t=t.child,t!==null))for(Ol(t,e,n),t=t.sibling;t!==null;)Ol(t,e,n),t=t.sibling}function Ml(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ml(t,e,n),t=t.sibling;t!==null;)Ml(t,e,n),t=t.sibling}var ce=null,Ye=!1;function Tt(t,e,n){for(n=n.child;n!==null;)Th(t,e,n),n=n.sibling}function Th(t,e,n){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(zs,n)}catch{}switch(n.tag){case 5:_e||On(n,e);case 6:var r=ce,i=Ye;ce=null,Tt(t,e,n),ce=r,Ye=i,ce!==null&&(Ye?(t=ce,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ce.removeChild(n.stateNode));break;case 18:ce!==null&&(Ye?(t=ce,n=n.stateNode,t.nodeType===8?Io(t.parentNode,n):t.nodeType===1&&Io(t,n),Vr(t)):Io(ce,n.stateNode));break;case 4:r=ce,i=Ye,ce=n.stateNode.containerInfo,Ye=!0,Tt(t,e,n),ce=r,Ye=i;break;case 0:case 11:case 14:case 15:if(!_e&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Dl(n,e,o),i=i.next}while(i!==r)}Tt(t,e,n);break;case 1:if(!_e&&(On(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){X(n,e,l)}Tt(t,e,n);break;case 21:Tt(t,e,n);break;case 22:n.mode&1?(_e=(r=_e)||n.memoizedState!==null,Tt(t,e,n),_e=r):Tt(t,e,n);break;default:Tt(t,e,n)}}function Ic(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new T_),e.forEach(function(r){var i=L_.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Qe(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ce=l.stateNode,Ye=!1;break e;case 3:ce=l.stateNode.containerInfo,Ye=!0;break e;case 4:ce=l.stateNode.containerInfo,Ye=!0;break e}l=l.return}if(ce===null)throw Error(v(160));Th(s,o,i),ce=null,Ye=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(a){X(i,e,a)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ih(e,t),e=e.sibling}function Ih(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qe(e,t),rt(t),r&4){try{Ar(3,t,t.return),bs(3,t)}catch(w){X(t,t.return,w)}try{Ar(5,t,t.return)}catch(w){X(t,t.return,w)}}break;case 1:Qe(e,t),rt(t),r&512&&n!==null&&On(n,n.return);break;case 5:if(Qe(e,t),rt(t),r&512&&n!==null&&On(n,n.return),t.flags&32){var i=t.stateNode;try{Wr(i,"")}catch(w){X(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Qd(i,s),il(l,o);var a=il(l,s);for(o=0;o<u.length;o+=2){var d=u[o],c=u[o+1];d==="style"?Jd(i,c):d==="dangerouslySetInnerHTML"?qd(i,c):d==="children"?Wr(i,c):cu(i,d,c,a)}switch(l){case"input":Zo(i,s);break;case"textarea":Kd(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Fn(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?Fn(i,!!s.multiple,s.defaultValue,!0):Fn(i,!!s.multiple,s.multiple?[]:"",!1))}i[Yr]=s}catch(w){X(t,t.return,w)}}break;case 6:if(Qe(e,t),rt(t),r&4){if(t.stateNode===null)throw Error(v(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){X(t,t.return,w)}}break;case 3:if(Qe(e,t),rt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vr(e.containerInfo)}catch(w){X(t,t.return,w)}break;case 4:Qe(e,t),rt(t);break;case 13:Qe(e,t),rt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||($u=ee())),r&4&&Ic(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(_e=(a=_e)||d,Qe(e,t),_e=a):Qe(e,t),rt(t),r&8192){if(a=t.memoizedState!==null,(t.stateNode.isHidden=a)&&!d&&t.mode&1)for(E=t,d=t.child;d!==null;){for(c=E=d;E!==null;){switch(f=E,g=f.child,f.tag){case 0:case 11:case 14:case 15:Ar(4,f,f.return);break;case 1:On(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(w){X(r,n,w)}}break;case 5:On(f,f.return);break;case 22:if(f.memoizedState!==null){Rc(c);continue}}g!==null?(g.return=f,E=g):Rc(c)}d=d.sibling}e:for(d=null,c=t;;){if(c.tag===5){if(d===null){d=c;try{i=c.stateNode,a?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=c.stateNode,u=c.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Xd("display",o))}catch(w){X(t,t.return,w)}}}else if(c.tag===6){if(d===null)try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(w){X(t,t.return,w)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Qe(e,t),rt(t),r&4&&Ic(t);break;case 21:break;default:Qe(e,t),rt(t)}}function rt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(kh(n)){var r=n;break e}n=n.return}throw Error(v(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Wr(i,""),r.flags&=-33);var s=Tc(t);Ml(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Tc(t);Ol(t,l,o);break;default:throw Error(v(161))}}catch(u){X(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function N_(t,e,n){E=t,Nh(t)}function Nh(t,e,n){for(var r=(t.mode&1)!==0;E!==null;){var i=E,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Mi;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||_e;l=Mi;var a=_e;if(Mi=o,(_e=u)&&!a)for(E=i;E!==null;)o=E,u=o.child,o.tag===22&&o.memoizedState!==null?xc(i):u!==null?(u.return=o,E=u):xc(i);for(;s!==null;)E=s,Nh(s),s=s.sibling;E=i,Mi=l,_e=a}Nc(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,E=s):Nc(t)}}function Nc(t){for(;E!==null;){var e=E;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_e||bs(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!_e)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ke(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&dc(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}dc(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var a=e.alternate;if(a!==null){var d=a.memoizedState;if(d!==null){var c=d.dehydrated;c!==null&&Vr(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(v(163))}_e||e.flags&512&&Al(e)}catch(f){X(e,e.return,f)}}if(e===t){E=null;break}if(n=e.sibling,n!==null){n.return=e.return,E=n;break}E=e.return}}function Rc(t){for(;E!==null;){var e=E;if(e===t){E=null;break}var n=e.sibling;if(n!==null){n.return=e.return,E=n;break}E=e.return}}function xc(t){for(;E!==null;){var e=E;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{bs(4,e)}catch(u){X(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){X(e,i,u)}}var s=e.return;try{Al(e)}catch(u){X(e,s,u)}break;case 5:var o=e.return;try{Al(e)}catch(u){X(e,o,u)}}}catch(u){X(e,e.return,u)}if(e===t){E=null;break}var l=e.sibling;if(l!==null){l.return=e.return,E=l;break}E=e.return}}var R_=Math.ceil,ys=Ct.ReactCurrentDispatcher,ju=Ct.ReactCurrentOwner,He=Ct.ReactCurrentBatchConfig,F=0,ae=null,te=null,he=0,Ae=0,Mn=Qt(0),ie=0,ti=null,fn=0,Gs=0,Hu=0,Or=null,Te=null,$u=0,Xn=1/0,at=null,vs=!1,Ll=null,zt=null,Li=!1,Dt=null,ws=0,Mr=0,Fl=null,Ki=-1,Yi=0;function Ee(){return F&6?ee():Ki!==-1?Ki:Ki=ee()}function Ut(t){return t.mode&1?F&2&&he!==0?he&-he:d_.transition!==null?(Yi===0&&(Yi=df()),Yi):(t=U,t!==0||(t=window.event,t=t===void 0?16:yf(t.type)),t):1}function et(t,e,n,r){if(50<Mr)throw Mr=0,Fl=null,Error(v(185));ui(t,n,r),(!(F&2)||t!==ae)&&(t===ae&&(!(F&2)&&(Gs|=n),ie===4&&xt(t,he)),Pe(t,r),n===1&&F===0&&!(e.mode&1)&&(Xn=ee()+500,Hs&&Kt()))}function Pe(t,e){var n=t.callbackNode;dg(t,e);var r=rs(t,t===ae?he:0);if(r===0)n!==null&&Ua(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ua(n),e===1)t.tag===0?c_(Pc.bind(null,t)):zf(Pc.bind(null,t)),o_(function(){!(F&6)&&Kt()}),n=null;else{switch(ff(r)){case 1:n=mu;break;case 4:n=af;break;case 16:n=ns;break;case 536870912:n=cf;break;default:n=ns}n=Lh(n,Rh.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Rh(t,e){if(Ki=-1,Yi=0,F&6)throw Error(v(327));var n=t.callbackNode;if(jn()&&t.callbackNode!==n)return null;var r=rs(t,t===ae?he:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ss(t,r);else{e=r;var i=F;F|=2;var s=Ph();(ae!==t||he!==e)&&(at=null,Xn=ee()+500,ln(t,e));do try{D_();break}catch(l){xh(t,l)}while(!0);Ru(),ys.current=s,F=i,te!==null?e=0:(ae=null,he=0,e=ie)}if(e!==0){if(e===2&&(i=al(t),i!==0&&(r=i,e=zl(t,i))),e===1)throw n=ti,ln(t,0),xt(t,r),Pe(t,ee()),n;if(e===6)xt(t,r);else{if(i=t.current.alternate,!(r&30)&&!x_(i)&&(e=Ss(t,r),e===2&&(s=al(t),s!==0&&(r=s,e=zl(t,s))),e===1))throw n=ti,ln(t,0),xt(t,r),Pe(t,ee()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(v(345));case 2:Jt(t,Te,at);break;case 3:if(xt(t,r),(r&130023424)===r&&(e=$u+500-ee(),10<e)){if(rs(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ee(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=_l(Jt.bind(null,t,Te,at),e);break}Jt(t,Te,at);break;case 4:if(xt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ze(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ee()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*R_(r/1960))-r,10<r){t.timeoutHandle=_l(Jt.bind(null,t,Te,at),r);break}Jt(t,Te,at);break;case 5:Jt(t,Te,at);break;default:throw Error(v(329))}}}return Pe(t,ee()),t.callbackNode===n?Rh.bind(null,t):null}function zl(t,e){var n=Or;return t.current.memoizedState.isDehydrated&&(ln(t,e).flags|=256),t=Ss(t,e),t!==2&&(e=Te,Te=n,e!==null&&Ul(e)),t}function Ul(t){Te===null?Te=t:Te.push.apply(Te,t)}function x_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!nt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xt(t,e){for(e&=~Hu,e&=~Gs,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ze(e),r=1<<n;t[n]=-1,e&=~r}}function Pc(t){if(F&6)throw Error(v(327));jn();var e=rs(t,0);if(!(e&1))return Pe(t,ee()),null;var n=Ss(t,e);if(t.tag!==0&&n===2){var r=al(t);r!==0&&(e=r,n=zl(t,r))}if(n===1)throw n=ti,ln(t,0),xt(t,e),Pe(t,ee()),n;if(n===6)throw Error(v(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Jt(t,Te,at),Pe(t,ee()),null}function Vu(t,e){var n=F;F|=1;try{return t(e)}finally{F=n,F===0&&(Xn=ee()+500,Hs&&Kt())}}function hn(t){Dt!==null&&Dt.tag===0&&!(F&6)&&jn();var e=F;F|=1;var n=He.transition,r=U;try{if(He.transition=null,U=1,t)return t()}finally{U=r,He.transition=n,F=e,!(F&6)&&Kt()}}function bu(){Ae=Mn.current,b(Mn)}function ln(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,s_(n)),te!==null)for(n=te.return;n!==null;){var r=n;switch(Tu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&us();break;case 3:Yn(),b(Re),b(we),Mu();break;case 5:Ou(r);break;case 4:Yn();break;case 13:b(K);break;case 19:b(K);break;case 10:xu(r.type._context);break;case 22:case 23:bu()}n=n.return}if(ae=t,te=t=Bt(t.current,null),he=Ae=e,ie=0,ti=null,Hu=Gs=fn=0,Te=Or=null,nn!==null){for(e=0;e<nn.length;e++)if(n=nn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}nn=null}return t}function xh(t,e){do{var n=te;try{if(Ru(),bi.current=_s,gs){for(var r=Y.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}gs=!1}if(dn=0,le=ne=Y=null,Dr=!1,Jr=0,ju.current=null,n===null||n.return===null){ie=1,ti=e,te=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=he,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var a=u,d=l,c=d.tag;if(!(d.mode&1)&&(c===0||c===11||c===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=_c(o);if(g!==null){g.flags&=-257,yc(g,o,l,s,e),g.mode&1&&gc(s,a,e),e=g,u=a;var _=e.updateQueue;if(_===null){var w=new Set;w.add(u),e.updateQueue=w}else _.add(u);break e}else{if(!(e&1)){gc(s,a,e),Gu();break e}u=Error(v(426))}}else if(Q&&l.mode&1){var P=_c(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),yc(P,o,l,s,e),Iu(qn(u,l));break e}}s=u=qn(u,l),ie!==4&&(ie=2),Or===null?Or=[s]:Or.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var p=fh(s,u,e);cc(s,p);break e;case 1:l=u;var h=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof h.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(zt===null||!zt.has(m)))){s.flags|=65536,e&=-e,s.lanes|=e;var y=hh(s,l,e);cc(s,y);break e}}s=s.return}while(s!==null)}Ah(n)}catch(C){e=C,te===n&&n!==null&&(te=n=n.return);continue}break}while(!0)}function Ph(){var t=ys.current;return ys.current=_s,t===null?_s:t}function Gu(){(ie===0||ie===3||ie===2)&&(ie=4),ae===null||!(fn&268435455)&&!(Gs&268435455)||xt(ae,he)}function Ss(t,e){var n=F;F|=2;var r=Ph();(ae!==t||he!==e)&&(at=null,ln(t,e));do try{P_();break}catch(i){xh(t,i)}while(!0);if(Ru(),F=n,ys.current=r,te!==null)throw Error(v(261));return ae=null,he=0,ie}function P_(){for(;te!==null;)Dh(te)}function D_(){for(;te!==null&&!ng();)Dh(te)}function Dh(t){var e=Mh(t.alternate,t,Ae);t.memoizedProps=t.pendingProps,e===null?Ah(t):te=e,ju.current=null}function Ah(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=k_(n,e),n!==null){n.flags&=32767,te=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ie=6,te=null;return}}else if(n=C_(n,e,Ae),n!==null){te=n;return}if(e=e.sibling,e!==null){te=e;return}te=e=t}while(e!==null);ie===0&&(ie=5)}function Jt(t,e,n){var r=U,i=He.transition;try{He.transition=null,U=1,A_(t,e,n,r)}finally{He.transition=i,U=r}return null}function A_(t,e,n,r){do jn();while(Dt!==null);if(F&6)throw Error(v(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(v(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(fg(t,s),t===ae&&(te=ae=null,he=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Li||(Li=!0,Lh(ns,function(){return jn(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=He.transition,He.transition=null;var o=U;U=1;var l=F;F|=4,ju.current=null,I_(t,n),Ih(n,t),Jg(ml),is=!!pl,ml=pl=null,t.current=n,N_(n),rg(),F=l,U=o,He.transition=s}else t.current=n;if(Li&&(Li=!1,Dt=t,ws=i),s=t.pendingLanes,s===0&&(zt=null),og(n.stateNode),Pe(t,ee()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(vs)throw vs=!1,t=Ll,Ll=null,t;return ws&1&&t.tag!==0&&jn(),s=t.pendingLanes,s&1?t===Fl?Mr++:(Mr=0,Fl=t):Mr=0,Kt(),null}function jn(){if(Dt!==null){var t=ff(ws),e=He.transition,n=U;try{if(He.transition=null,U=16>t?16:t,Dt===null)var r=!1;else{if(t=Dt,Dt=null,ws=0,F&6)throw Error(v(331));var i=F;for(F|=4,E=t.current;E!==null;){var s=E,o=s.child;if(E.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var a=l[u];for(E=a;E!==null;){var d=E;switch(d.tag){case 0:case 11:case 15:Ar(8,d,s)}var c=d.child;if(c!==null)c.return=d,E=c;else for(;E!==null;){d=E;var f=d.sibling,g=d.return;if(Ch(d),d===a){E=null;break}if(f!==null){f.return=g,E=f;break}E=g}}}var _=s.alternate;if(_!==null){var w=_.child;if(w!==null){_.child=null;do{var P=w.sibling;w.sibling=null,w=P}while(w!==null)}}E=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,E=o;else e:for(;E!==null;){if(s=E,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ar(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,E=p;break e}E=s.return}}var h=t.current;for(E=h;E!==null;){o=E;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,E=m;else e:for(o=h;E!==null;){if(l=E,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:bs(9,l)}}catch(C){X(l,l.return,C)}if(l===o){E=null;break e}var y=l.sibling;if(y!==null){y.return=l.return,E=y;break e}E=l.return}}if(F=i,Kt(),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(zs,t)}catch{}r=!0}return r}finally{U=n,He.transition=e}}return!1}function Dc(t,e,n){e=qn(n,e),e=fh(t,e,1),t=Ft(t,e,1),e=Ee(),t!==null&&(ui(t,1,e),Pe(t,e))}function X(t,e,n){if(t.tag===3)Dc(t,t,n);else for(;e!==null;){if(e.tag===3){Dc(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zt===null||!zt.has(r))){t=qn(n,t),t=hh(e,t,1),e=Ft(e,t,1),t=Ee(),e!==null&&(ui(e,1,t),Pe(e,t));break}}e=e.return}}function O_(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ee(),t.pingedLanes|=t.suspendedLanes&n,ae===t&&(he&n)===n&&(ie===4||ie===3&&(he&130023424)===he&&500>ee()-$u?ln(t,0):Hu|=n),Pe(t,e)}function Oh(t,e){e===0&&(t.mode&1?(e=Ti,Ti<<=1,!(Ti&130023424)&&(Ti=4194304)):e=1);var n=Ee();t=yt(t,e),t!==null&&(ui(t,e,n),Pe(t,n))}function M_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Oh(t,n)}function L_(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(v(314))}r!==null&&r.delete(e),Oh(t,n)}var Mh;Mh=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Re.current)Ie=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ie=!1,E_(t,e,n);Ie=!!(t.flags&131072)}else Ie=!1,Q&&e.flags&1048576&&Uf(e,ds,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Qi(t,e),t=e.pendingProps;var i=Gn(e,we.current);Wn(e,n),i=Fu(null,e,r,t,i,n);var s=zu();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xe(r)?(s=!0,as(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Du(e),i.updater=Vs,e.stateNode=i,i._reactInternals=e,kl(e,r,t,n),e=Nl(null,e,r,!0,s,n)):(e.tag=0,Q&&s&&ku(e),Se(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Qi(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=z_(r),t=Ke(r,t),i){case 0:e=Il(null,e,r,t,n);break e;case 1:e=Sc(null,e,r,t,n);break e;case 11:e=vc(null,e,r,t,n);break e;case 14:e=wc(null,e,r,Ke(r.type,t),n);break e}throw Error(v(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ke(r,i),Il(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ke(r,i),Sc(t,e,r,i,n);case 3:e:{if(_h(e),t===null)throw Error(v(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Vf(t,e),ps(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=qn(Error(v(423)),e),e=Ec(t,e,r,n,i);break e}else if(r!==i){i=qn(Error(v(424)),e),e=Ec(t,e,r,n,i);break e}else for(Oe=Lt(e.stateNode.containerInfo.firstChild),Me=e,Q=!0,qe=null,n=Hf(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qn(),r===i){e=vt(t,e,n);break e}Se(t,e,r,n)}e=e.child}return e;case 5:return bf(e),t===null&&Sl(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,gl(r,i)?o=null:s!==null&&gl(r,s)&&(e.flags|=32),gh(t,e),Se(t,e,o,n),e.child;case 6:return t===null&&Sl(e),null;case 13:return yh(t,e,n);case 4:return Au(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Kn(e,null,r,n):Se(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ke(r,i),vc(t,e,r,i,n);case 7:return Se(t,e,e.pendingProps,n),e.child;case 8:return Se(t,e,e.pendingProps.children,n),e.child;case 12:return Se(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,j(fs,r._currentValue),r._currentValue=o,s!==null)if(nt(s.value,o)){if(s.children===i.children&&!Re.current){e=vt(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=pt(-1,n&-n),u.tag=2;var a=s.updateQueue;if(a!==null){a=a.shared;var d=a.pending;d===null?u.next=u:(u.next=d.next,d.next=u),a.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),El(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(v(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),El(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Se(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Wn(e,n),i=$e(i),r=r(i),e.flags|=1,Se(t,e,r,n),e.child;case 14:return r=e.type,i=Ke(r,e.pendingProps),i=Ke(r.type,i),wc(t,e,r,i,n);case 15:return ph(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ke(r,i),Qi(t,e),e.tag=1,xe(r)?(t=!0,as(e)):t=!1,Wn(e,n),dh(e,r,i),kl(e,r,i,n),Nl(null,e,r,!0,t,n);case 19:return vh(t,e,n);case 22:return mh(t,e,n)}throw Error(v(156,e.tag))};function Lh(t,e){return uf(t,e)}function F_(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function We(t,e,n,r){return new F_(t,e,n,r)}function Qu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function z_(t){if(typeof t=="function")return Qu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===fu)return 11;if(t===hu)return 14}return 2}function Bt(t,e){var n=t.alternate;return n===null?(n=We(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function qi(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Qu(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case kn:return un(n.children,i,s,e);case du:o=8,i|=8;break;case Ko:return t=We(12,n,e,i|2),t.elementType=Ko,t.lanes=s,t;case Yo:return t=We(13,n,e,i),t.elementType=Yo,t.lanes=s,t;case qo:return t=We(19,n,e,i),t.elementType=qo,t.lanes=s,t;case Vd:return Qs(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Hd:o=10;break e;case $d:o=9;break e;case fu:o=11;break e;case hu:o=14;break e;case It:o=16,r=null;break e}throw Error(v(130,t==null?t:typeof t,""))}return e=We(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function un(t,e,n,r){return t=We(7,t,r,e),t.lanes=n,t}function Qs(t,e,n,r){return t=We(22,t,r,e),t.elementType=Vd,t.lanes=n,t.stateNode={isHidden:!1},t}function Mo(t,e,n){return t=We(6,t,null,e),t.lanes=n,t}function Lo(t,e,n){return e=We(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function U_(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mo(0),this.expirationTimes=mo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mo(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ku(t,e,n,r,i,s,o,l,u){return t=new U_(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=We(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Du(s),t}function B_(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Fh(t){if(!t)return Vt;t=t._reactInternals;e:{if(yn(t)!==t||t.tag!==1)throw Error(v(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(v(171))}if(t.tag===1){var n=t.type;if(xe(n))return Ff(t,n,e)}return e}function zh(t,e,n,r,i,s,o,l,u){return t=Ku(n,r,!0,t,i,s,o,l,u),t.context=Fh(null),n=t.current,r=Ee(),i=Ut(n),s=pt(r,i),s.callback=e??null,Ft(n,s,i),t.current.lanes=i,ui(t,i,r),Pe(t,r),t}function Ks(t,e,n,r){var i=e.current,s=Ee(),o=Ut(i);return n=Fh(n),e.context===null?e.context=n:e.pendingContext=n,e=pt(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ft(i,e,o),t!==null&&(et(t,i,o,s),Vi(t,i,o)),o}function Es(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ac(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Yu(t,e){Ac(t,e),(t=t.alternate)&&Ac(t,e)}function W_(){return null}var Uh=typeof reportError=="function"?reportError:function(t){console.error(t)};function qu(t){this._internalRoot=t}Ys.prototype.render=qu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(v(409));Ks(t,e,null,null)};Ys.prototype.unmount=qu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hn(function(){Ks(null,t,null,null)}),e[_t]=null}};function Ys(t){this._internalRoot=t}Ys.prototype.unstable_scheduleHydration=function(t){if(t){var e=mf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Rt.length&&e!==0&&e<Rt[n].priority;n++);Rt.splice(n,0,t),n===0&&_f(t)}};function Xu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qs(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Oc(){}function j_(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var a=Es(o);s.call(a)}}var o=zh(e,r,t,0,null,!1,!1,"",Oc);return t._reactRootContainer=o,t[_t]=o.current,Qr(t.nodeType===8?t.parentNode:t),hn(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var a=Es(u);l.call(a)}}var u=Ku(t,0,!1,null,null,!1,!1,"",Oc);return t._reactRootContainer=u,t[_t]=u.current,Qr(t.nodeType===8?t.parentNode:t),hn(function(){Ks(e,u,n,r)}),u}function Xs(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=Es(o);l.call(u)}}Ks(e,o,t,i)}else o=j_(n,e,t,i,r);return Es(o)}hf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=kr(e.pendingLanes);n!==0&&(gu(e,n|1),Pe(e,ee()),!(F&6)&&(Xn=ee()+500,Kt()))}break;case 13:hn(function(){var r=yt(t,1);if(r!==null){var i=Ee();et(r,t,1,i)}}),Yu(t,1)}};_u=function(t){if(t.tag===13){var e=yt(t,134217728);if(e!==null){var n=Ee();et(e,t,134217728,n)}Yu(t,134217728)}};pf=function(t){if(t.tag===13){var e=Ut(t),n=yt(t,e);if(n!==null){var r=Ee();et(n,t,e,r)}Yu(t,e)}};mf=function(){return U};gf=function(t,e){var n=U;try{return U=t,e()}finally{U=n}};ol=function(t,e,n){switch(e){case"input":if(Zo(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=js(r);if(!i)throw Error(v(90));Gd(r),Zo(r,i)}}}break;case"textarea":Kd(t,n);break;case"select":e=n.value,e!=null&&Fn(t,!!n.multiple,e,!1)}};tf=Vu;nf=hn;var H_={usingClientEntryPoint:!1,Events:[ci,Rn,js,Zd,ef,Vu]},_r={findFiberByHostInstance:tn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$_={bundleType:_r.bundleType,version:_r.version,rendererPackageName:_r.rendererPackageName,rendererConfig:_r.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ct.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=of(t),t===null?null:t.stateNode},findFiberByHostInstance:_r.findFiberByHostInstance||W_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fi.isDisabled&&Fi.supportsFiber)try{zs=Fi.inject($_),lt=Fi}catch{}}Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H_;Fe.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xu(e))throw Error(v(200));return B_(t,e,null,n)};Fe.createRoot=function(t,e){if(!Xu(t))throw Error(v(299));var n=!1,r="",i=Uh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ku(t,1,!1,null,null,n,!1,r,i),t[_t]=e.current,Qr(t.nodeType===8?t.parentNode:t),new qu(e)};Fe.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(v(188)):(t=Object.keys(t).join(","),Error(v(268,t)));return t=of(e),t=t===null?null:t.stateNode,t};Fe.flushSync=function(t){return hn(t)};Fe.hydrate=function(t,e,n){if(!qs(e))throw Error(v(200));return Xs(null,t,e,!0,n)};Fe.hydrateRoot=function(t,e,n){if(!Xu(t))throw Error(v(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Uh;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=zh(e,null,t,1,n??null,i,!1,s,o),t[_t]=e.current,Qr(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ys(e)};Fe.render=function(t,e,n){if(!qs(e))throw Error(v(200));return Xs(null,t,e,!1,n)};Fe.unmountComponentAtNode=function(t){if(!qs(t))throw Error(v(40));return t._reactRootContainer?(hn(function(){Xs(null,null,t,!1,function(){t._reactRootContainer=null,t[_t]=null})}),!0):!1};Fe.unstable_batchedUpdates=Vu;Fe.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!qs(n))throw Error(v(200));if(t==null||t._reactInternals===void 0)throw Error(v(38));return Xs(t,e,n,!1,r)};Fe.version="18.3.1-next-f1338f8080-20240426";function Bh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bh)}catch(t){console.error(t)}}Bh(),Ud.exports=Fe;var V_=Ud.exports,Wh,Mc=V_;Wh=Mc.createRoot,Mc.hydrateRoot;var Lc={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S=function(t,e){if(!t)throw ir(e)},ir=function(t){return new Error("Firebase Database ("+jh.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},b_=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Ju={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,a=u?t[i+2]:0,d=s>>2,c=(s&3)<<4|l>>4;let f=(l&15)<<2|a>>6,g=a&63;u||(g=64,o||(f=64)),r.push(n[d],n[c],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Hh(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):b_(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const a=i<t.length?n[t.charAt(i)]:64;++i;const c=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||a==null||c==null)throw new G_;const f=s<<2|l>>4;if(r.push(f),a!==64){const g=l<<4&240|a>>2;if(r.push(g),c!==64){const _=a<<6&192|c;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class G_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $h=function(t){const e=Hh(t);return Ju.encodeByteArray(e,!0)},Cs=function(t){return $h(t).replace(/\./g,"")},Bl=function(t){try{return Ju.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(t){return Vh(void 0,t)}function Vh(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!K_(n)||(t[n]=Vh(t[n],e[n]));return t}function K_(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=()=>Y_().__FIREBASE_DEFAULTS__,X_=()=>{if(typeof process>"u"||typeof Lc>"u")return;const t=Lc.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},J_=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Bl(t[1]);return e&&JSON.parse(e)},bh=()=>{try{return q_()||X_()||J_()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Z_=t=>{var e,n;return(n=(e=bh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ey=t=>{const e=Z_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Gh=()=>{var t;return(t=bh())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Cs(JSON.stringify(n)),Cs(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ny())}function ry(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Kh(){return jh.NODE_ADMIN===!0}function iy(){try{return typeof indexedDB=="object"}catch{return!1}}function sy(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy="FirebaseError";class fi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=oy,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yh.prototype.create)}}class Yh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?ly(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new fi(i,l,r)}}function ly(t,e){return t.replace(uy,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const uy=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(t){return JSON.parse(t)}function fe(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=ni(Bl(s[0])||""),n=ni(Bl(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},ay=function(t){const e=qh(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},cy=function(t){const e=qh(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Jn(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Fc(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ks(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Wl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(zc(s)&&zc(o)){if(!Wl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function zc(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let c=0;c<16;c++)r[c]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let c=0;c<16;c++)r[c]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let c=16;c<80;c++){const f=r[c-3]^r[c-8]^r[c-14]^r[c-16];r[c]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],u=this.chain_[4],a,d;for(let c=0;c<80;c++){c<40?c<20?(a=l^s&(o^l),d=1518500249):(a=s^o^l,d=1859775393):c<60?(a=s&o|l&(s|o),d=2400959708):(a=s^o^l,d=3395469782);const f=(i<<5|i>>>27)+a+u+d+r[c]&4294967295;u=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function Zu(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,S(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Zs=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(t){return t&&t._delegate?t._delegate:t}class ri{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Js;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gy(e))try{this.getOrInitializeService({instanceIdentifier:Zt})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Zt){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zt){return this.instances.has(e)}getOptions(e=Zt){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:my(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zt){return this.component?this.component.multipleInstances?e:Zt:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function my(t){return t===Zt?void 0:t}function gy(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new py(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(W||(W={}));const yy={debug:W.DEBUG,verbose:W.VERBOSE,info:W.INFO,warn:W.WARN,error:W.ERROR,silent:W.SILENT},vy=W.INFO,wy={[W.DEBUG]:"log",[W.VERBOSE]:"log",[W.INFO]:"info",[W.WARN]:"warn",[W.ERROR]:"error"},Sy=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=wy[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xh{constructor(e){this.name=e,this._logLevel=vy,this._logHandler=Sy,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in W))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yy[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,W.DEBUG,...e),this._logHandler(this,W.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,W.VERBOSE,...e),this._logHandler(this,W.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,W.INFO,...e),this._logHandler(this,W.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,W.WARN,...e),this._logHandler(this,W.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,W.ERROR,...e),this._logHandler(this,W.ERROR,...e)}}const Ey=(t,e)=>e.some(n=>t instanceof n);let Uc,Bc;function Cy(){return Uc||(Uc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ky(){return Bc||(Bc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jh=new WeakMap,jl=new WeakMap,Zh=new WeakMap,Fo=new WeakMap,ea=new WeakMap;function Ty(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Wt(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Jh.set(n,t)}).catch(()=>{}),ea.set(e,t),e}function Iy(t){if(jl.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});jl.set(t,e)}let Hl={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jl.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Zh.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Ny(t){Hl=t(Hl)}function Ry(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(zo(this),e,...n);return Zh.set(r,e.sort?e.sort():[e]),Wt(r)}:ky().includes(t)?function(...e){return t.apply(zo(this),e),Wt(Jh.get(this))}:function(...e){return Wt(t.apply(zo(this),e))}}function xy(t){return typeof t=="function"?Ry(t):(t instanceof IDBTransaction&&Iy(t),Ey(t,Cy())?new Proxy(t,Hl):t)}function Wt(t){if(t instanceof IDBRequest)return Ty(t);if(Fo.has(t))return Fo.get(t);const e=xy(t);return e!==t&&(Fo.set(t,e),ea.set(e,t)),e}const zo=t=>ea.get(t);function Py(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Wt(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Wt(o.result),u.oldVersion,u.newVersion,Wt(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",a=>i(a.oldVersion,a.newVersion,a))}).catch(()=>{}),l}const Dy=["get","getKey","getAll","getAllKeys","count"],Ay=["put","add","delete","clear"],Uo=new Map;function Wc(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Uo.get(e))return Uo.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Ay.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Dy.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let a=u.store;return r&&(a=a.index(l.shift())),(await Promise.all([a[n](...l),i&&u.done]))[0]};return Uo.set(e,s),s}Ny(t=>({...t,get:(e,n,r)=>Wc(e,n)||t.get(e,n,r),has:(e,n)=>!!Wc(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(My(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function My(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $l="@firebase/app",jc="0.10.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt=new Xh("@firebase/app"),Ly="@firebase/app-compat",Fy="@firebase/analytics-compat",zy="@firebase/analytics",Uy="@firebase/app-check-compat",By="@firebase/app-check",Wy="@firebase/auth",jy="@firebase/auth-compat",Hy="@firebase/database",$y="@firebase/database-compat",Vy="@firebase/functions",by="@firebase/functions-compat",Gy="@firebase/installations",Qy="@firebase/installations-compat",Ky="@firebase/messaging",Yy="@firebase/messaging-compat",qy="@firebase/performance",Xy="@firebase/performance-compat",Jy="@firebase/remote-config",Zy="@firebase/remote-config-compat",ev="@firebase/storage",tv="@firebase/storage-compat",nv="@firebase/firestore",rv="@firebase/vertexai-preview",iv="@firebase/firestore-compat",sv="firebase",ov="10.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl="[DEFAULT]",lv={[$l]:"fire-core",[Ly]:"fire-core-compat",[zy]:"fire-analytics",[Fy]:"fire-analytics-compat",[By]:"fire-app-check",[Uy]:"fire-app-check-compat",[Wy]:"fire-auth",[jy]:"fire-auth-compat",[Hy]:"fire-rtdb",[$y]:"fire-rtdb-compat",[Vy]:"fire-fn",[by]:"fire-fn-compat",[Gy]:"fire-iid",[Qy]:"fire-iid-compat",[Ky]:"fire-fcm",[Yy]:"fire-fcm-compat",[qy]:"fire-perf",[Xy]:"fire-perf-compat",[Jy]:"fire-rc",[Zy]:"fire-rc-compat",[ev]:"fire-gcs",[tv]:"fire-gcs-compat",[nv]:"fire-fst",[iv]:"fire-fst-compat",[rv]:"fire-vertex","fire-js":"fire-js",[sv]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=new Map,uv=new Map,bl=new Map;function Hc(t,e){try{t.container.addComponent(e)}catch(n){wt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Is(t){const e=t.name;if(bl.has(e))return wt.debug(`There were multiple attempts to register component ${e}.`),!1;bl.set(e,t);for(const n of Ts.values())Hc(n,t);for(const n of uv.values())Hc(n,t);return!0}function av(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jt=new Yh("app","Firebase",cv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ri("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jt.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=ov;function ep(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Vl,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw jt.create("bad-app-name",{appName:String(i)});if(n||(n=Gh()),!n)throw jt.create("no-options");const s=Ts.get(i);if(s){if(Wl(n,s.options)&&Wl(r,s.config))return s;throw jt.create("duplicate-app",{appName:i})}const o=new _y(i);for(const u of bl.values())o.addComponent(u);const l=new dv(n,r,o);return Ts.set(i,l),l}function hv(t=Vl){const e=Ts.get(t);if(!e&&t===Vl&&Gh())return ep();if(!e)throw jt.create("no-app",{appName:t});return e}function Hn(t,e,n){var r;let i=(r=lv[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wt.warn(l.join(" "));return}Is(new ri(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="firebase-heartbeat-database",mv=1,ii="firebase-heartbeat-store";let Bo=null;function tp(){return Bo||(Bo=Py(pv,mv,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ii)}catch(n){console.warn(n)}}}}).catch(t=>{throw jt.create("idb-open",{originalErrorMessage:t.message})})),Bo}async function gv(t){try{const n=(await tp()).transaction(ii),r=await n.objectStore(ii).get(np(t));return await n.done,r}catch(e){if(e instanceof fi)wt.warn(e.message);else{const n=jt.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});wt.warn(n.message)}}}async function $c(t,e){try{const r=(await tp()).transaction(ii,"readwrite");await r.objectStore(ii).put(e,np(t)),await r.done}catch(n){if(n instanceof fi)wt.warn(n.message);else{const r=jt.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});wt.warn(r.message)}}}function np(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v=1024,yv=30*24*60*60*1e3;class vv{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Sv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Vc();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=yv}),this._storage.overwrite(this._heartbeatsCache))}catch(r){wt.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Vc(),{heartbeatsToSend:r,unsentEntries:i}=wv(this._heartbeatsCache.heartbeats),s=Cs(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return wt.warn(n),""}}}function Vc(){return new Date().toISOString().substring(0,10)}function wv(t,e=_v){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),bc(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),bc(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Sv{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iy()?sy().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gv(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return $c(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return $c(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function bc(t){return Cs(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(t){Is(new ri("platform-logger",e=>new Oy(e),"PRIVATE")),Is(new ri("heartbeat",e=>new vv(e),"PRIVATE")),Hn($l,jc,t),Hn($l,jc,"esm2017"),Hn("fire-js","")}Ev("");var Cv="firebase",kv="10.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hn(Cv,kv,"app");var Gc={};const Qc="@firebase/database",Kc="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rp="";function Tv(t){rp=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),fe(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ni(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return kt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Iv(e)}}catch{}return new Nv},sn=ip("localStorage"),Rv=ip("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n=new Xh("@firebase/database"),xv=function(){let t=1;return function(){return t++}}(),sp=function(t){const e=hy(t),n=new fy;n.update(e);const r=n.digest();return Ju.encodeByteArray(r)},pi=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=pi.apply(null,r):typeof r=="object"?e+=fe(r):e+=r,e+=" "}return e};let Lr=null,Yc=!0;const Pv=function(t,e){S(!e,"Can't turn on custom loggers persistently."),$n.logLevel=W.VERBOSE,Lr=$n.log.bind($n)},ye=function(...t){if(Yc===!0&&(Yc=!1,Lr===null&&Rv.get("logging_enabled")===!0&&Pv()),Lr){const e=pi.apply(null,t);Lr(e)}},mi=function(t){return function(...e){ye(t,...e)}},Gl=function(...t){const e="FIREBASE INTERNAL ERROR: "+pi(...t);$n.error(e)},St=function(...t){const e=`FIREBASE FATAL ERROR: ${pi(...t)}`;throw $n.error(e),new Error(e)},De=function(...t){const e="FIREBASE WARNING: "+pi(...t);$n.warn(e)},Dv=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&De("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},op=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Av=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Zn="[MIN_NAME]",pn="[MAX_NAME]",sr=function(t,e){if(t===e)return 0;if(t===Zn||e===pn)return-1;if(e===Zn||t===pn)return 1;{const n=qc(t),r=qc(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Ov=function(t,e){return t===e?0:t<e?-1:1},yr=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+fe(e))},ta=function(t){if(typeof t!="object"||t===null)return fe(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=fe(e[r]),n+=":",n+=ta(t[e[r]]);return n+="}",n},lp=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function be(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const up=function(t){S(!op(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,l,u;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const a=[];for(u=n;u;u-=1)a.push(o%2?1:0),o=Math.floor(o/2);for(u=e;u;u-=1)a.push(s%2?1:0),s=Math.floor(s/2);a.push(i?1:0),a.reverse();const d=a.join("");let c="";for(u=0;u<64;u+=8){let f=parseInt(d.substr(u,8),2).toString(16);f.length===1&&(f="0"+f),c=c+f}return c.toLowerCase()},Mv=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Lv=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},Fv=new RegExp("^-?(0*)\\d{1,10}$"),zv=-2147483648,Uv=2147483647,qc=function(t){if(Fv.test(t)){const e=Number(t);if(e>=zv&&e<=Uv)return e}return null},or=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw De("Exception was thrown by user callback.",n),e},Math.floor(0))}},Bv=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Fr=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){De(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ye("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',De(e)}}class Xi{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Xi.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="5",ap="v",cp="s",dp="r",fp="f",hp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,pp="ls",mp="p",Ql="ac",gp="websocket",_p="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,n,r,i,s=!1,o="",l=!1,u=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=sn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&sn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Hv(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function vp(t,e,n){S(typeof e=="string","typeof type must == string"),S(typeof n=="object","typeof params must == object");let r;if(e===gp)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===_p)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Hv(t)&&(n.ns=t.namespace);const i=[];return be(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(){this.counters_={}}incrementCounter(e,n=1){kt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Q_(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo={},jo={};function ra(t){const e=t.toString();return Wo[e]||(Wo[e]=new $v),Wo[e]}function Vv(t,e){const n=t.toString();return jo[n]||(jo[n]=e()),jo[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&or(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc="start",Gv="close",Qv="pLPCommand",Kv="pRTLPCB",wp="id",Sp="pw",Ep="ser",Yv="cb",qv="seg",Xv="ts",Jv="d",Zv="dframe",Cp=1870,kp=30,e0=Cp-kp,t0=25e3,n0=3e4;class Ln{constructor(e,n,r,i,s,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=mi(e),this.stats_=ra(n),this.urlFn=u=>(this.appCheckToken&&(u[Ql]=this.appCheckToken),vp(n,_p,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new bv(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(n0)),Av(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ia((...s)=>{const[o,l,u,a,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Xc)this.id=l,this.password=u;else if(o===Gv)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[Xc]="t",r[Ep]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Yv]=this.scriptTagHolder.uniqueCallbackIdentifier),r[ap]=na,this.transportSessionId&&(r[cp]=this.transportSessionId),this.lastSessionId&&(r[pp]=this.lastSessionId),this.applicationId&&(r[mp]=this.applicationId),this.appCheckToken&&(r[Ql]=this.appCheckToken),typeof location<"u"&&location.hostname&&hp.test(location.hostname)&&(r[dp]=fp);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ln.forceAllow_=!0}static forceDisallow(){Ln.forceDisallow_=!0}static isAvailable(){return Ln.forceAllow_?!0:!Ln.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Mv()&&!Lv()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=fe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=$h(n),i=lp(r,e0);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Zv]="t",r[wp]=e,r[Sp]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=fe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class ia{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=xv(),window[Qv+this.uniqueCallbackIdentifier]=e,window[Kv+this.uniqueCallbackIdentifier]=n,this.myIFrame=ia.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){ye("frame writing exception"),l.stack&&ye(l.stack),ye(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ye("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[wp]=this.myID,e[Sp]=this.myPW,e[Ep]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+kp+r.length<=Cp;){const o=this.pendingSegs.shift();r=r+"&"+qv+i+"="+o.seg+"&"+Xv+i+"="+o.ts+"&"+Jv+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(t0)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ye("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0=16384,i0=45e3;let Ns=null;typeof MozWebSocket<"u"?Ns=MozWebSocket:typeof WebSocket<"u"&&(Ns=WebSocket);class Xe{constructor(e,n,r,i,s,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=mi(this.connId),this.stats_=ra(n),this.connURL=Xe.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[ap]=na,typeof location<"u"&&location.hostname&&hp.test(location.hostname)&&(o[dp]=fp),n&&(o[cp]=n),r&&(o[pp]=r),i&&(o[Ql]=i),s&&(o[mp]=s),vp(e,gp,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,sn.set("previous_websocket_failure",!0);try{let r;Kh(),this.mySock=new Ns(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Xe.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Ns!==null&&!Xe.forceDisallow_}static previouslyFailed(){return sn.isInMemoryStorage||sn.get("previous_websocket_failure")===!0}markConnectionHealthy(){sn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=ni(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(S(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=fe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=lp(n,r0);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(i0))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Xe.responsesRequiredToBeHealthy=2;Xe.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ln,Xe]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Xe&&Xe.isAvailable();let r=n&&!Xe.previouslyFailed();if(e.webSocketOnly&&(n||De("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Xe];else{const i=this.transports_=[];for(const s of si.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);si.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}si.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0=6e4,o0=5e3,l0=10*1024,u0=100*1024,Ho="t",Jc="d",a0="s",Zc="r",c0="e",ed="o",td="a",nd="n",rd="p",d0="h";class f0{constructor(e,n,r,i,s,o,l,u,a,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=u,this.onKill_=a,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=mi("c:"+this.id+":"),this.transportManager_=new si(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Fr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>u0?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>l0?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ho in e){const n=e[Ho];n===td?this.upgradeIfSecondaryHealthy_():n===Zc?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===ed&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=yr("t",e),r=yr("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:rd,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:td,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:nd,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=yr("t",e),r=yr("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=yr(Ho,e);if(Jc in e){const r=e[Jc];if(n===d0){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===nd){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===a0?this.onConnectionShutdown_(r):n===Zc?this.onReset_(r):n===c0?Gl("Server Error: "+r):n===ed?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Gl("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),na!==r&&De("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Fr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(s0))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Fr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(o0))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:rd,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(sn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e){this.allowedEvents_=e,this.listeners_={},S(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){S(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends Ip{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Qh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Rs}getInitialEvent(e){return S(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id=32,sd=768;class G{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function B(){return new G("")}function A(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function bt(t){return t.pieces_.length-t.pieceNum_}function V(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new G(t.pieces_,e)}function Np(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function h0(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Rp(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function xp(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new G(e,0)}function re(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof G)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new G(n,0)}function M(t){return t.pieceNum_>=t.pieces_.length}function je(t,e){const n=A(t),r=A(e);if(n===null)return e;if(n===r)return je(V(t),V(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Pp(t,e){if(bt(t)!==bt(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Je(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(bt(t)>bt(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class p0{constructor(e,n){this.errorPrefix_=n,this.parts_=Rp(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Zs(this.parts_[r]);Dp(this)}}function m0(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Zs(e),Dp(t)}function g0(t){const e=t.parts_.pop();t.byteLength_-=Zs(e),t.parts_.length>0&&(t.byteLength_-=1)}function Dp(t){if(t.byteLength_>sd)throw new Error(t.errorPrefix_+"has a key path longer than "+sd+" bytes ("+t.byteLength_+").");if(t.parts_.length>id)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+id+") or object contains a cycle "+en(t))}function en(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa extends Ip{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new sa}getInitialEvent(e){return S(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr=1e3,_0=60*5*1e3,od=30*1e3,y0=1.3,v0=3e4,w0="server_kill",ld=3;class mt extends Tp{constructor(e,n,r,i,s,o,l,u){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=mt.nextPersistentConnectionId_++,this.log_=mi("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=vr,this.maxReconnectDelay_=_0,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!Kh())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");sa.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Rs.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(fe(s)),S(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Js,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),S(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),S(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,l=>{const u=l.d,a=l.s;mt.warnOnListenWarnings_(u,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),a!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(a,u))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&kt(e,"w")){const r=Jn(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();De(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||cy(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=od)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=ay(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),S(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+fe(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Gl("Unrecognized action received from server: "+fe(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){S(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=vr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=vr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>v0&&(this.reconnectDelay_=vr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*y0)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+mt.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const u=function(){l?l.close():(o=!0,r())},a=function(c){S(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(c)};this.realtime_={close:u,sendRequest:a};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[c,f]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?ye("getToken() completed but was canceled"):(ye("getToken() completed. Creating connection."),this.authToken_=c&&c.accessToken,this.appCheckToken_=f&&f.token,l=new f0(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,g=>{De(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(w0)},s))}catch(c){this.log_("Failed to get token: "+c),o||(this.repoInfo_.nodeAdmin&&De(c),u())}}}interrupt(e){ye("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ye("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Fc(this.interruptReasons_)&&(this.reconnectDelay_=vr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>ta(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new G(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){ye("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ld&&(this.reconnectDelay_=od,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ye("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ld&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+rp.replace(/\./g,"-")]=1,Qh()?e["framework.cordova"]=1:ry()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Rs.getInstance().currentlyOnline();return Fc(this.interruptReasons_)&&e}}mt.nextPersistentConnectionId_=0;mt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new L(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new L(Zn,e),i=new L(Zn,n);return this.compare(r,i)!==0}minPost(){return L.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zi;class Ap extends eo{static get __EMPTY_NODE(){return zi}static set __EMPTY_NODE(e){zi=e}compare(e,n){return sr(e.name,n.name)}isDefinedOn(e){throw ir("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return L.MIN}maxPost(){return new L(pn,zi)}makePost(e,n){return S(typeof e=="string","KeyIndex indexValue must always be a string."),new L(e,zi)}toString(){return".key"}}const Vn=new Ap;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ue{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ue.RED,this.left=i??Ne.EMPTY_NODE,this.right=s??Ne.EMPTY_NODE}copy(e,n,r,i,s){return new ue(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ne.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Ne.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ue.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ue.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ue.RED=!0;ue.BLACK=!1;class S0{copy(e,n,r,i,s){return this}insert(e,n,r){return new ue(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ne{constructor(e,n=Ne.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ne(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ue.BLACK,null,null))}remove(e){return new Ne(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ue.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ui(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ui(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ui(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ui(this.root_,null,this.comparator_,!0,e)}}Ne.EMPTY_NODE=new S0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(t,e){return sr(t.name,e.name)}function oa(t,e){return sr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kl;function C0(t){Kl=t}const Op=function(t){return typeof t=="number"?"number:"+up(t):"string:"+t},Mp=function(t){if(t.isLeafNode()){const e=t.val();S(typeof e=="string"||typeof e=="number"||typeof e=="object"&&kt(e,".sv"),"Priority must be a string or number.")}else S(t===Kl||t.isEmpty(),"priority of unexpected type.");S(t===Kl||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ud;class oe{constructor(e,n=oe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,S(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Mp(this.priorityNode_)}static set __childrenNodeConstructor(e){ud=e}static get __childrenNodeConstructor(){return ud}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new oe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:oe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return M(e)?this:A(e)===".priority"?this.priorityNode_:oe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:oe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=A(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(S(r!==".priority"||bt(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,oe.__childrenNodeConstructor.EMPTY_NODE.updateChild(V(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Op(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=up(this.value_):e+=this.value_,this.lazyHash_=sp(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===oe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof oe.__childrenNodeConstructor?-1:(S(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=oe.VALUE_TYPE_ORDER.indexOf(n),s=oe.VALUE_TYPE_ORDER.indexOf(r);return S(i>=0,"Unknown leaf type: "+n),S(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}oe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lp,Fp;function k0(t){Lp=t}function T0(t){Fp=t}class I0 extends eo{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?sr(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return L.MIN}maxPost(){return new L(pn,new oe("[PRIORITY-POST]",Fp))}makePost(e,n){const r=Lp(e);return new L(n,new oe("[PRIORITY-POST]",r))}toString(){return".priority"}}const ve=new I0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=Math.log(2);class R0{constructor(e){const n=s=>parseInt(Math.log(s)/N0,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const xs=function(t,e,n,r){t.sort(e);const i=function(u,a){const d=a-u;let c,f;if(d===0)return null;if(d===1)return c=t[u],f=n?n(c):c,new ue(f,c.node,ue.BLACK,null,null);{const g=parseInt(d/2,10)+u,_=i(u,g),w=i(g+1,a);return c=t[g],f=n?n(c):c,new ue(f,c.node,ue.BLACK,_,w)}},s=function(u){let a=null,d=null,c=t.length;const f=function(_,w){const P=c-_,p=c;c-=_;const h=i(P+1,p),m=t[P],y=n?n(m):m;g(new ue(y,m.node,w,null,h))},g=function(_){a?(a.left=_,a=_):(d=_,a=_)};for(let _=0;_<u.count;++_){const w=u.nextBitIsOne(),P=Math.pow(2,u.count-(_+1));w?f(P,ue.BLACK):(f(P,ue.BLACK),f(P,ue.RED))}return d},o=new R0(t.length),l=s(o);return new Ne(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $o;const En={};class ht{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return S(En&&ve,"ChildrenNode.ts has not been loaded"),$o=$o||new ht({".priority":En},{".priority":ve}),$o}get(e){const n=Jn(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ne?n:null}hasIndex(e){return kt(this.indexSet_,e.toString())}addIndex(e,n){S(e!==Vn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(L.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=xs(r,e.getCompare()):l=En;const u=e.toString(),a=Object.assign({},this.indexSet_);a[u]=e;const d=Object.assign({},this.indexes_);return d[u]=l,new ht(d,a)}addToIndexes(e,n){const r=ks(this.indexes_,(i,s)=>{const o=Jn(this.indexSet_,s);if(S(o,"Missing index implementation for "+s),i===En)if(o.isDefinedOn(e.node)){const l=[],u=n.getIterator(L.Wrap);let a=u.getNext();for(;a;)a.name!==e.name&&l.push(a),a=u.getNext();return l.push(e),xs(l,o.getCompare())}else return En;else{const l=n.get(e.name);let u=i;return l&&(u=u.remove(new L(e.name,l))),u.insert(e,e.node)}});return new ht(r,this.indexSet_)}removeFromIndexes(e,n){const r=ks(this.indexes_,i=>{if(i===En)return i;{const s=n.get(e.name);return s?i.remove(new L(e.name,s)):i}});return new ht(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wr;class z{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Mp(this.priorityNode_),this.children_.isEmpty()&&S(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return wr||(wr=new z(new Ne(oa),null,ht.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||wr}updatePriority(e){return this.children_.isEmpty()?this:new z(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?wr:n}}getChild(e){const n=A(e);return n===null?this:this.getImmediateChild(n).getChild(V(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(S(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new L(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?wr:this.priorityNode_;return new z(i,o,s)}}updateChild(e,n){const r=A(e);if(r===null)return n;{S(A(e)!==".priority"||bt(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(V(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(ve,(o,l)=>{n[o]=l.val(e),r++,s&&z.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Op(this.getPriority().val())+":"),this.forEachChild(ve,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":sp(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new L(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new L(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new L(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,L.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,L.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===gi?-1:0}withIndex(e){if(e===Vn||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new z(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Vn||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ve),i=n.getIterator(ve);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Vn?null:this.indexMap_.get(e.toString())}}z.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class x0 extends z{constructor(){super(new Ne(oa),z.EMPTY_NODE,ht.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return z.EMPTY_NODE}isEmpty(){return!1}}const gi=new x0;Object.defineProperties(L,{MIN:{value:new L(Zn,z.EMPTY_NODE)},MAX:{value:new L(pn,gi)}});Ap.__EMPTY_NODE=z.EMPTY_NODE;oe.__childrenNodeConstructor=z;C0(gi);T0(gi);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=!0;function de(t,e=null){if(t===null)return z.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),S(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new oe(n,de(e))}if(!(t instanceof Array)&&P0){const n=[];let r=!1;if(be(t,(o,l)=>{if(o.substring(0,1)!=="."){const u=de(l);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new L(o,u)))}}),n.length===0)return z.EMPTY_NODE;const s=xs(n,E0,o=>o.name,oa);if(r){const o=xs(n,ve.getCompare());return new z(s,de(e),new ht({".priority":o},{".priority":ve}))}else return new z(s,de(e),ht.Default)}else{let n=z.EMPTY_NODE;return be(t,(r,i)=>{if(kt(t,r)&&r.substring(0,1)!=="."){const s=de(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(de(e))}}k0(de);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0 extends eo{constructor(e){super(),this.indexPath_=e,S(!M(e)&&A(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?sr(e.name,n.name):s}makePost(e,n){const r=de(e),i=z.EMPTY_NODE.updateChild(this.indexPath_,r);return new L(n,i)}maxPost(){const e=z.EMPTY_NODE.updateChild(this.indexPath_,gi);return new L(pn,e)}toString(){return Rp(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0 extends eo{compare(e,n){const r=e.node.compareTo(n.node);return r===0?sr(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return L.MIN}maxPost(){return L.MAX}makePost(e,n){const r=de(e);return new L(n,r)}toString(){return".value"}}const O0=new A0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(t){return{type:"value",snapshotNode:t}}function L0(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function F0(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ad(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function z0(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ve}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return S(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return S(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Zn}hasEnd(){return this.endSet_}getIndexEndValue(){return S(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return S(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:pn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return S(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ve}copy(){const e=new la;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function cd(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ve?n="$priority":t.index_===O0?n="$value":t.index_===Vn?n="$key":(S(t.index_ instanceof D0,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=fe(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=fe(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+fe(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=fe(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+fe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function dd(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ve&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Tp{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=mi("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(S(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Ps.getListenId_(e,r),l={};this.listens_[o]=l;const u=cd(e._queryParams);this.restRequest_(s+".json",u,(a,d)=>{let c=d;if(a===404&&(c=null,a=null),a===null&&this.onDataUpdate_(s,c,!1,r),Jn(this.listens_,o)===l){let f;a?a===401?f="permission_denied":f="rest_error:"+a:f="ok",i(f,null)}})}unlisten(e,n){const r=Ps.getListenId_(e,n);delete this.listens_[r]}get(e){const n=cd(e._queryParams),r=e._path.toString(),i=new Js;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+dy(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let u=null;if(l.status>=200&&l.status<300){try{u=ni(l.responseText)}catch{De("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,u)}else l.status!==401&&l.status!==404&&De("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(){this.rootNode_=z.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(){return{value:null,children:new Map}}function zp(t,e,n){if(M(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=A(e);t.children.has(r)||t.children.set(r,Ds());const i=t.children.get(r);e=V(e),zp(i,e,n)}}function Yl(t,e,n){t.value!==null?n(e,t.value):B0(t,(r,i)=>{const s=new G(e.toString()+"/"+r);Yl(i,s,n)})}function B0(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&be(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=10*1e3,j0=30*1e3,H0=5*60*1e3;class $0{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new W0(e);const r=fd+(j0-fd)*Math.random();Fr(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;be(e,(i,s)=>{s>0&&kt(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Fr(this.reportStats_.bind(this),Math.floor(Math.random()*2*H0))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ot||(ot={}));function Up(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Bp(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Wp(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=ot.ACK_USER_WRITE,this.source=Up()}operationForChild(e){if(M(this.path)){if(this.affectedTree.value!=null)return S(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new G(e));return new As(B(),n,this.revert)}}else return S(A(this.path)===e,"operationForChild called for unrelated child."),new As(V(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=ot.OVERWRITE}operationForChild(e){return M(this.path)?new mn(this.source,B(),this.snap.getImmediateChild(e)):new mn(this.source,V(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=ot.MERGE}operationForChild(e){if(M(this.path)){const n=this.children.subtree(new G(e));return n.isEmpty()?null:n.value?new mn(this.source,B(),n.value):new oi(this.source,B(),n)}else return S(A(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new oi(this.source,V(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(M(e))return this.isFullyInitialized()&&!this.filtered_;const n=A(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function V0(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(z0(o.childName,o.snapshotNode))}),Sr(t,i,"child_removed",e,r,n),Sr(t,i,"child_added",e,r,n),Sr(t,i,"child_moved",s,r,n),Sr(t,i,"child_changed",e,r,n),Sr(t,i,"value",e,r,n),i}function Sr(t,e,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,u)=>G0(t,l,u)),o.forEach(l=>{const u=b0(t,l,s);i.forEach(a=>{a.respondsTo(l.type)&&e.push(a.createEvent(u,t.query_))})})}function b0(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function G0(t,e,n){if(e.childName==null||n.childName==null)throw ir("Should only compare child_ events.");const r=new L(e.childName,e.snapshotNode),i=new L(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(t,e){return{eventCache:t,serverCache:e}}function zr(t,e,n,r){return jp(new ua(e,n,r),t.serverCache)}function Hp(t,e,n,r){return jp(t.eventCache,new ua(e,n,r))}function ql(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function gn(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo;const Q0=()=>(Vo||(Vo=new Ne(Ov)),Vo);class ${constructor(e,n=Q0()){this.value=e,this.children=n}static fromObject(e){let n=new $(null);return be(e,(r,i)=>{n=n.set(new G(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:B(),value:this.value};if(M(e))return null;{const r=A(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(V(e),n);return s!=null?{path:re(new G(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(M(e))return this;{const n=A(e),r=this.children.get(n);return r!==null?r.subtree(V(e)):new $(null)}}set(e,n){if(M(e))return new $(n,this.children);{const r=A(e),s=(this.children.get(r)||new $(null)).set(V(e),n),o=this.children.insert(r,s);return new $(this.value,o)}}remove(e){if(M(e))return this.children.isEmpty()?new $(null):new $(null,this.children);{const n=A(e),r=this.children.get(n);if(r){const i=r.remove(V(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new $(null):new $(this.value,s)}else return this}}get(e){if(M(e))return this.value;{const n=A(e),r=this.children.get(n);return r?r.get(V(e)):null}}setTree(e,n){if(M(e))return n;{const r=A(e),s=(this.children.get(r)||new $(null)).setTree(V(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new $(this.value,o)}}fold(e){return this.fold_(B(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(re(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,B(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(M(e))return null;{const s=A(e),o=this.children.get(s);return o?o.findOnPath_(V(e),re(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,B(),n)}foreachOnPath_(e,n,r){if(M(e))return this;{this.value&&r(n,this.value);const i=A(e),s=this.children.get(i);return s?s.foreachOnPath_(V(e),re(n,i),r):new $(null)}}foreach(e){this.foreach_(B(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(re(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.writeTree_=e}static empty(){return new tt(new $(null))}}function Ur(t,e,n){if(M(e))return new tt(new $(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=je(i,e);return s=s.updateChild(o,n),new tt(t.writeTree_.set(i,s))}else{const i=new $(n),s=t.writeTree_.setTree(e,i);return new tt(s)}}}function hd(t,e,n){let r=t;return be(n,(i,s)=>{r=Ur(r,re(e,i),s)}),r}function pd(t,e){if(M(e))return tt.empty();{const n=t.writeTree_.setTree(e,new $(null));return new tt(n)}}function Xl(t,e){return vn(t,e)!=null}function vn(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(je(n.path,e)):null}function md(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ve,(r,i)=>{e.push(new L(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new L(r,i.value))}),e}function Ht(t,e){if(M(e))return t;{const n=vn(t,e);return n!=null?new tt(new $(n)):new tt(t.writeTree_.subtree(e))}}function Jl(t){return t.writeTree_.isEmpty()}function er(t,e){return $p(B(),t.writeTree_,e)}function $p(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(S(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=$p(re(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(re(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(t,e){return Yp(e,t)}function K0(t,e,n,r,i){S(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ur(t.visibleWrites,e,n)),t.lastWriteId=r}function Y0(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function q0(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);S(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&X0(l,r.path)?i=!1:Je(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return J0(t),!0;if(r.snap)t.visibleWrites=pd(t.visibleWrites,r.path);else{const l=r.children;be(l,u=>{t.visibleWrites=pd(t.visibleWrites,re(r.path,u))})}return!0}else return!1}function X0(t,e){if(t.snap)return Je(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Je(re(t.path,n),e))return!0;return!1}function J0(t){t.visibleWrites=bp(t.allWrites,Z0,B()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Z0(t){return t.visible}function bp(t,e,n){let r=tt.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let l;if(s.snap)Je(n,o)?(l=je(n,o),r=Ur(r,l,s.snap)):Je(o,n)&&(l=je(o,n),r=Ur(r,B(),s.snap.getChild(l)));else if(s.children){if(Je(n,o))l=je(n,o),r=hd(r,l,s.children);else if(Je(o,n))if(l=je(o,n),M(l))r=hd(r,B(),s.children);else{const u=Jn(s.children,A(l));if(u){const a=u.getChild(V(l));r=Ur(r,B(),a)}}}else throw ir("WriteRecord should have .snap or .children")}}return r}function Gp(t,e,n,r,i){if(!r&&!i){const s=vn(t.visibleWrites,e);if(s!=null)return s;{const o=Ht(t.visibleWrites,e);if(Jl(o))return n;if(n==null&&!Xl(o,B()))return null;{const l=n||z.EMPTY_NODE;return er(o,l)}}}else{const s=Ht(t.visibleWrites,e);if(!i&&Jl(s))return n;if(!i&&n==null&&!Xl(s,B()))return null;{const o=function(a){return(a.visible||i)&&(!r||!~r.indexOf(a.writeId))&&(Je(a.path,e)||Je(e,a.path))},l=bp(t.allWrites,o,e),u=n||z.EMPTY_NODE;return er(l,u)}}}function e1(t,e,n){let r=z.EMPTY_NODE;const i=vn(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ve,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Ht(t.visibleWrites,e);return n.forEachChild(ve,(o,l)=>{const u=er(Ht(s,new G(o)),l);r=r.updateImmediateChild(o,u)}),md(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Ht(t.visibleWrites,e);return md(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function t1(t,e,n,r,i){S(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=re(e,n);if(Xl(t.visibleWrites,s))return null;{const o=Ht(t.visibleWrites,s);return Jl(o)?i.getChild(n):er(o,i.getChild(n))}}function n1(t,e,n,r){const i=re(e,n),s=vn(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Ht(t.visibleWrites,i);return er(o,r.getNode().getImmediateChild(n))}else return null}function r1(t,e){return vn(t.visibleWrites,e)}function i1(t,e,n,r,i,s,o){let l;const u=Ht(t.visibleWrites,e),a=vn(u,B());if(a!=null)l=a;else if(n!=null)l=er(u,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const d=[],c=o.getCompare(),f=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let g=f.getNext();for(;g&&d.length<i;)c(g,r)!==0&&d.push(g),g=f.getNext();return d}else return[]}function s1(){return{visibleWrites:tt.empty(),allWrites:[],lastWriteId:-1}}function Zl(t,e,n,r){return Gp(t.writeTree,t.treePath,e,n,r)}function Qp(t,e){return e1(t.writeTree,t.treePath,e)}function gd(t,e,n,r){return t1(t.writeTree,t.treePath,e,n,r)}function Os(t,e){return r1(t.writeTree,re(t.treePath,e))}function o1(t,e,n,r,i,s){return i1(t.writeTree,t.treePath,e,n,r,i,s)}function aa(t,e,n){return n1(t.writeTree,t.treePath,e,n)}function Kp(t,e){return Yp(re(t.treePath,e),t.writeTree)}function Yp(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;S(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),S(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,ad(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,F0(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,L0(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,ad(r,e.snapshotNode,i.oldSnap));else throw ir("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const qp=new u1;class ca{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ua(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return aa(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:gn(this.viewCache_),s=o1(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function a1(t,e){S(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),S(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function c1(t,e,n,r,i){const s=new l1;let o,l;if(n.type===ot.OVERWRITE){const a=n;a.source.fromUser?o=eu(t,e,a.path,a.snap,r,i,s):(S(a.source.fromServer,"Unknown source."),l=a.source.tagged||e.serverCache.isFiltered()&&!M(a.path),o=Ms(t,e,a.path,a.snap,r,i,l,s))}else if(n.type===ot.MERGE){const a=n;a.source.fromUser?o=f1(t,e,a.path,a.children,r,i,s):(S(a.source.fromServer,"Unknown source."),l=a.source.tagged||e.serverCache.isFiltered(),o=tu(t,e,a.path,a.children,r,i,l,s))}else if(n.type===ot.ACK_USER_WRITE){const a=n;a.revert?o=m1(t,e,a.path,r,i,s):o=h1(t,e,a.path,a.affectedTree,r,i,s)}else if(n.type===ot.LISTEN_COMPLETE)o=p1(t,e,n.path,r,s);else throw ir("Unknown operation type: "+n.type);const u=s.getChanges();return d1(e,o,u),{viewCache:o,changes:u}}function d1(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=ql(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(M0(ql(e)))}}function Xp(t,e,n,r,i,s){const o=e.eventCache;if(Os(r,n)!=null)return e;{let l,u;if(M(n))if(S(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const a=gn(e),d=a instanceof z?a:z.EMPTY_NODE,c=Qp(r,d);l=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const a=Zl(r,gn(e));l=t.filter.updateFullNode(e.eventCache.getNode(),a,s)}else{const a=A(n);if(a===".priority"){S(bt(n)===1,"Can't have a priority with additional path components");const d=o.getNode();u=e.serverCache.getNode();const c=gd(r,n,d,u);c!=null?l=t.filter.updatePriority(d,c):l=o.getNode()}else{const d=V(n);let c;if(o.isCompleteForChild(a)){u=e.serverCache.getNode();const f=gd(r,n,o.getNode(),u);f!=null?c=o.getNode().getImmediateChild(a).updateChild(d,f):c=o.getNode().getImmediateChild(a)}else c=aa(r,a,e.serverCache);c!=null?l=t.filter.updateChild(o.getNode(),a,c,d,i,s):l=o.getNode()}}return zr(e,l,o.isFullyInitialized()||M(n),t.filter.filtersNodes())}}function Ms(t,e,n,r,i,s,o,l){const u=e.serverCache;let a;const d=o?t.filter:t.filter.getIndexedFilter();if(M(n))a=d.updateFullNode(u.getNode(),r,null);else if(d.filtersNodes()&&!u.isFiltered()){const g=u.getNode().updateChild(n,r);a=d.updateFullNode(u.getNode(),g,null)}else{const g=A(n);if(!u.isCompleteForPath(n)&&bt(n)>1)return e;const _=V(n),P=u.getNode().getImmediateChild(g).updateChild(_,r);g===".priority"?a=d.updatePriority(u.getNode(),P):a=d.updateChild(u.getNode(),g,P,_,qp,null)}const c=Hp(e,a,u.isFullyInitialized()||M(n),d.filtersNodes()),f=new ca(i,c,s);return Xp(t,c,n,i,f,l)}function eu(t,e,n,r,i,s,o){const l=e.eventCache;let u,a;const d=new ca(i,e,s);if(M(n))a=t.filter.updateFullNode(e.eventCache.getNode(),r,o),u=zr(e,a,!0,t.filter.filtersNodes());else{const c=A(n);if(c===".priority")a=t.filter.updatePriority(e.eventCache.getNode(),r),u=zr(e,a,l.isFullyInitialized(),l.isFiltered());else{const f=V(n),g=l.getNode().getImmediateChild(c);let _;if(M(f))_=r;else{const w=d.getCompleteChild(c);w!=null?Np(f)===".priority"&&w.getChild(xp(f)).isEmpty()?_=w:_=w.updateChild(f,r):_=z.EMPTY_NODE}if(g.equals(_))u=e;else{const w=t.filter.updateChild(l.getNode(),c,_,f,d,o);u=zr(e,w,l.isFullyInitialized(),t.filter.filtersNodes())}}}return u}function _d(t,e){return t.eventCache.isCompleteForChild(e)}function f1(t,e,n,r,i,s,o){let l=e;return r.foreach((u,a)=>{const d=re(n,u);_d(e,A(d))&&(l=eu(t,l,d,a,i,s,o))}),r.foreach((u,a)=>{const d=re(n,u);_d(e,A(d))||(l=eu(t,l,d,a,i,s,o))}),l}function yd(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function tu(t,e,n,r,i,s,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u=e,a;M(n)?a=r:a=new $(null).setTree(n,r);const d=e.serverCache.getNode();return a.children.inorderTraversal((c,f)=>{if(d.hasChild(c)){const g=e.serverCache.getNode().getImmediateChild(c),_=yd(t,g,f);u=Ms(t,u,new G(c),_,i,s,o,l)}}),a.children.inorderTraversal((c,f)=>{const g=!e.serverCache.isCompleteForChild(c)&&f.value===null;if(!d.hasChild(c)&&!g){const _=e.serverCache.getNode().getImmediateChild(c),w=yd(t,_,f);u=Ms(t,u,new G(c),w,i,s,o,l)}}),u}function h1(t,e,n,r,i,s,o){if(Os(i,n)!=null)return e;const l=e.serverCache.isFiltered(),u=e.serverCache;if(r.value!=null){if(M(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Ms(t,e,n,u.getNode().getChild(n),i,s,l,o);if(M(n)){let a=new $(null);return u.getNode().forEachChild(Vn,(d,c)=>{a=a.set(new G(d),c)}),tu(t,e,n,a,i,s,l,o)}else return e}else{let a=new $(null);return r.foreach((d,c)=>{const f=re(n,d);u.isCompleteForPath(f)&&(a=a.set(d,u.getNode().getChild(f)))}),tu(t,e,n,a,i,s,l,o)}}function p1(t,e,n,r,i){const s=e.serverCache,o=Hp(e,s.getNode(),s.isFullyInitialized()||M(n),s.isFiltered());return Xp(t,o,n,r,qp,i)}function m1(t,e,n,r,i,s){let o;if(Os(r,n)!=null)return e;{const l=new ca(r,e,i),u=e.eventCache.getNode();let a;if(M(n)||A(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=Zl(r,gn(e));else{const c=e.serverCache.getNode();S(c instanceof z,"serverChildren would be complete if leaf node"),d=Qp(r,c)}d=d,a=t.filter.updateFullNode(u,d,s)}else{const d=A(n);let c=aa(r,d,e.serverCache);c==null&&e.serverCache.isCompleteForChild(d)&&(c=u.getImmediateChild(d)),c!=null?a=t.filter.updateChild(u,d,c,V(n),l,s):e.eventCache.getNode().hasChild(d)?a=t.filter.updateChild(u,d,z.EMPTY_NODE,V(n),l,s):a=u,a.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Zl(r,gn(e)),o.isLeafNode()&&(a=t.filter.updateFullNode(a,o,s)))}return o=e.serverCache.isFullyInitialized()||Os(r,B())!=null,zr(e,a,o,t.filter.filtersNodes())}}function g1(t,e){const n=gn(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!M(e)&&!n.getImmediateChild(A(e)).isEmpty())?n.getChild(e):null}function vd(t,e,n,r){e.type===ot.MERGE&&e.source.queryId!==null&&(S(gn(t.viewCache_),"We should always have a full cache before handling merges"),S(ql(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=c1(t.processor_,i,e,n,r);return a1(t.processor_,s.viewCache),S(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,_1(t,s.changes,s.viewCache.eventCache.getNode())}function _1(t,e,n,r){const i=t.eventRegistrations_;return V0(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wd;function y1(t){S(!wd,"__referenceConstructor has already been defined"),wd=t}function da(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return S(s!=null,"SyncTree gave us an op for an invalid query."),vd(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(vd(o,e,n,r));return s}}function fa(t,e){let n=null;for(const r of t.views.values())n=n||g1(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sd;function v1(t){S(!Sd,"__referenceConstructor has already been defined"),Sd=t}class Ed{constructor(e){this.listenProvider_=e,this.syncPointTree_=new $(null),this.pendingWriteTree_=s1(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Jp(t,e,n,r,i){return K0(t.pendingWriteTree_,e,n,r,i),i?no(t,new mn(Up(),e,n)):[]}function on(t,e,n=!1){const r=Y0(t.pendingWriteTree_,e);if(q0(t.pendingWriteTree_,e)){let s=new $(null);return r.snap!=null?s=s.set(B(),!0):be(r.children,o=>{s=s.set(new G(o),!0)}),no(t,new As(r.path,s,n))}else return[]}function to(t,e,n){return no(t,new mn(Bp(),e,n))}function w1(t,e,n){const r=$.fromObject(n);return no(t,new oi(Bp(),e,r))}function S1(t,e,n,r){const i=tm(t,r);if(i!=null){const s=nm(i),o=s.path,l=s.queryId,u=je(o,e),a=new mn(Wp(l),u,n);return rm(t,o,a)}else return[]}function E1(t,e,n,r){const i=tm(t,r);if(i){const s=nm(i),o=s.path,l=s.queryId,u=je(o,e),a=$.fromObject(n),d=new oi(Wp(l),u,a);return rm(t,o,d)}else return[]}function ha(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,l)=>{const u=je(o,e),a=fa(l,u);if(a)return a});return Gp(i,e,s,n,!0)}function no(t,e){return Zp(e,t.syncPointTree_,null,Vp(t.pendingWriteTree_,B()))}function Zp(t,e,n,r){if(M(t.path))return em(t,e,n,r);{const i=e.get(B());n==null&&i!=null&&(n=fa(i,B()));let s=[];const o=A(t.path),l=t.operationForChild(o),u=e.children.get(o);if(u&&l){const a=n?n.getImmediateChild(o):null,d=Kp(r,o);s=s.concat(Zp(l,u,a,d))}return i&&(s=s.concat(da(i,t,r,n))),s}}function em(t,e,n,r){const i=e.get(B());n==null&&i!=null&&(n=fa(i,B()));let s=[];return e.children.inorderTraversal((o,l)=>{const u=n?n.getImmediateChild(o):null,a=Kp(r,o),d=t.operationForChild(o);d&&(s=s.concat(em(d,l,u,a)))}),i&&(s=s.concat(da(i,t,r,n))),s}function tm(t,e){return t.tagToQueryMap.get(e)}function nm(t){const e=t.indexOf("$");return S(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new G(t.substr(0,e))}}function rm(t,e,n){const r=t.syncPointTree_.get(e);S(r,"Missing sync point for query tag that we're tracking");const i=Vp(t.pendingWriteTree_,e);return da(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new pa(n)}node(){return this.node_}}class ma{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=re(this.path_,e);return new ma(this.syncTree_,n)}node(){return ha(this.syncTree_,this.path_)}}const C1=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Cd=function(t,e,n){if(!t||typeof t!="object")return t;if(S(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return k1(t[".sv"],e,n);if(typeof t[".sv"]=="object")return T1(t[".sv"],e);S(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},k1=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:S(!1,"Unexpected server value: "+t)}},T1=function(t,e,n){t.hasOwnProperty("increment")||S(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&S(!1,"Unexpected increment value: "+r);const i=e.node();if(S(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},I1=function(t,e,n,r){return ga(e,new ma(n,t),r)},im=function(t,e,n){return ga(t,new pa(e),n)};function ga(t,e,n){const r=t.getPriority().val(),i=Cd(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,l=Cd(o.getValue(),e,n);return l!==o.getValue()||i!==o.getPriority().val()?new oe(l,de(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new oe(i))),o.forEachChild(ve,(l,u)=>{const a=ga(u,e.getImmediateChild(l),n);a!==u&&(s=s.updateImmediateChild(l,a))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function ya(t,e){let n=e instanceof G?e:new G(e),r=t,i=A(n);for(;i!==null;){const s=Jn(r.node.children,i)||{children:{},childCount:0};r=new _a(i,r,s),n=V(n),i=A(n)}return r}function lr(t){return t.node.value}function sm(t,e){t.node.value=e,nu(t)}function om(t){return t.node.childCount>0}function N1(t){return lr(t)===void 0&&!om(t)}function ro(t,e){be(t.node.children,(n,r)=>{e(new _a(n,t,r))})}function lm(t,e,n,r){n&&!r&&e(t),ro(t,i=>{lm(i,e,!0,r)}),n&&r&&e(t)}function R1(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function _i(t){return new G(t.parent===null?t.name:_i(t.parent)+"/"+t.name)}function nu(t){t.parent!==null&&x1(t.parent,t.name,t)}function x1(t,e,n){const r=N1(n),i=kt(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,nu(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,nu(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=/[\[\].#$\/\u0000-\u001F\u007F]/,D1=/[\[\].#$\u0000-\u001F\u007F]/,bo=10*1024*1024,um=function(t){return typeof t=="string"&&t.length!==0&&!P1.test(t)},am=function(t){return typeof t=="string"&&t.length!==0&&!D1.test(t)},A1=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),am(t)},O1=function(t,e,n,r){va(Zu(t,"value"),e,n)},va=function(t,e,n){const r=n instanceof G?new p0(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+en(r));if(typeof e=="function")throw new Error(t+"contains a function "+en(r)+" with contents = "+e.toString());if(op(e))throw new Error(t+"contains "+e.toString()+" "+en(r));if(typeof e=="string"&&e.length>bo/3&&Zs(e)>bo)throw new Error(t+"contains a string greater than "+bo+" utf8 bytes "+en(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(be(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!um(o)))throw new Error(t+" contains an invalid key ("+o+") "+en(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);m0(r,o),va(t,l,r),g0(r)}),i&&s)throw new Error(t+' contains ".value" child '+en(r)+" in addition to actual children.")}},cm=function(t,e,n,r){if(!am(n))throw new Error(Zu(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},M1=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),cm(t,e,n)},L1=function(t,e){if(A(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},F1=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!um(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!A1(n))throw new Error(Zu(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function dm(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Pp(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Et(t,e,n){dm(t,n),U1(t,r=>Je(r,e)||Je(e,r))}function U1(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(B1(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function B1(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Lr&&ye("event: "+n.toString()),or(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="repo_interrupt",j1=25;class H1{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new z1,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ds(),this.transactionQueueTree_=new _a,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function $1(t,e,n){if(t.stats_=ra(t.repoInfo_),t.forceRestClient_||Bv())t.server_=new Ps(t.repoInfo_,(r,i,s,o)=>{kd(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Td(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{fe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new mt(t.repoInfo_,e,(r,i,s,o)=>{kd(t,r,i,s,o)},r=>{Td(t,r)},r=>{b1(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Vv(t.repoInfo_,()=>new $0(t.stats_,t.server_)),t.infoData_=new U0,t.infoSyncTree_=new Ed({startListening:(r,i,s,o)=>{let l=[];const u=t.infoData_.getNode(r._path);return u.isEmpty()||(l=to(t.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Sa(t,"connected",!1),t.serverSyncTree_=new Ed({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(l,u)=>{const a=o(l,u);Et(t.eventQueue_,r._path,a)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function V1(t){const n=t.infoData_.getNode(new G(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function wa(t){return C1({timestamp:V1(t)})}function kd(t,e,n,r,i){t.dataUpdateCount++;const s=new G(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const u=ks(n,a=>de(a));o=E1(t.serverSyncTree_,s,u,i)}else{const u=de(n);o=S1(t.serverSyncTree_,s,u,i)}else if(r){const u=ks(n,a=>de(a));o=w1(t.serverSyncTree_,s,u)}else{const u=de(n);o=to(t.serverSyncTree_,s,u)}let l=s;o.length>0&&(l=io(t,s)),Et(t.eventQueue_,l,o)}function Td(t,e){Sa(t,"connected",e),e===!1&&Q1(t)}function b1(t,e){be(e,(n,r)=>{Sa(t,n,r)})}function Sa(t,e,n){const r=new G("/.info/"+e),i=de(n);t.infoData_.updateSnapshot(r,i);const s=to(t.infoSyncTree_,r,i);Et(t.eventQueue_,r,s)}function fm(t){return t.nextWriteId_++}function G1(t,e,n,r,i){Ea(t,"set",{path:e.toString(),value:n,priority:r});const s=wa(t),o=de(n,r),l=ha(t.serverSyncTree_,e),u=im(o,l,s),a=fm(t),d=Jp(t.serverSyncTree_,e,u,a,!0);dm(t.eventQueue_,d),t.server_.put(e.toString(),o.val(!0),(f,g)=>{const _=f==="ok";_||De("set at "+e+" failed: "+f);const w=on(t.serverSyncTree_,a,!_);Et(t.eventQueue_,e,w),Y1(t,i,f,g)});const c=_m(t,e);io(t,c),Et(t.eventQueue_,c,[])}function Q1(t){Ea(t,"onDisconnectEvents");const e=wa(t),n=Ds();Yl(t.onDisconnect_,B(),(i,s)=>{const o=I1(i,s,t.serverSyncTree_,e);zp(n,i,o)});let r=[];Yl(n,B(),(i,s)=>{r=r.concat(to(t.serverSyncTree_,i,s));const o=_m(t,i);io(t,o)}),t.onDisconnect_=Ds(),Et(t.eventQueue_,B(),r)}function K1(t){t.persistentConnection_&&t.persistentConnection_.interrupt(W1)}function Ea(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ye(n,...e)}function Y1(t,e,n,r){e&&or(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function hm(t,e,n){return ha(t.serverSyncTree_,e,n)||z.EMPTY_NODE}function Ca(t,e=t.transactionQueueTree_){if(e||so(t,e),lr(e)){const n=mm(t,e);S(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&q1(t,_i(e),n)}else om(e)&&ro(e,n=>{Ca(t,n)})}function q1(t,e,n){const r=n.map(a=>a.currentWriteId),i=hm(t,e,r);let s=i;const o=i.hash();for(let a=0;a<n.length;a++){const d=n[a];S(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const c=je(e,d.path);s=s.updateChild(c,d.currentOutputSnapshotRaw)}const l=s.val(!0),u=e;t.server_.put(u.toString(),l,a=>{Ea(t,"transaction put response",{path:u.toString(),status:a});let d=[];if(a==="ok"){const c=[];for(let f=0;f<n.length;f++)n[f].status=2,d=d.concat(on(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&c.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();so(t,ya(t.transactionQueueTree_,e)),Ca(t,t.transactionQueueTree_),Et(t.eventQueue_,e,d);for(let f=0;f<c.length;f++)or(c[f])}else{if(a==="datastale")for(let c=0;c<n.length;c++)n[c].status===3?n[c].status=4:n[c].status=0;else{De("transaction at "+u.toString()+" failed: "+a);for(let c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=a}io(t,e)}},o)}function io(t,e){const n=pm(t,e),r=_i(n),i=mm(t,n);return X1(t,i,r),r}function X1(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const u=e[l],a=je(n,u.path);let d=!1,c;if(S(a!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)d=!0,c=u.abortReason,i=i.concat(on(t.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=j1)d=!0,c="maxretry",i=i.concat(on(t.serverSyncTree_,u.currentWriteId,!0));else{const f=hm(t,u.path,o);u.currentInputSnapshot=f;const g=e[l].update(f.val());if(g!==void 0){va("transaction failed: Data returned ",g,u.path);let _=de(g);typeof g=="object"&&g!=null&&kt(g,".priority")||(_=_.updatePriority(f.getPriority()));const P=u.currentWriteId,p=wa(t),h=im(_,f,p);u.currentOutputSnapshotRaw=_,u.currentOutputSnapshotResolved=h,u.currentWriteId=fm(t),o.splice(o.indexOf(P),1),i=i.concat(Jp(t.serverSyncTree_,u.path,h,u.currentWriteId,u.applyLocally)),i=i.concat(on(t.serverSyncTree_,P,!0))}else d=!0,c="nodata",i=i.concat(on(t.serverSyncTree_,u.currentWriteId,!0))}Et(t.eventQueue_,n,i),i=[],d&&(e[l].status=2,function(f){setTimeout(f,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(c==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(c),!1,null))))}so(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)or(r[l]);Ca(t,t.transactionQueueTree_)}function pm(t,e){let n,r=t.transactionQueueTree_;for(n=A(e);n!==null&&lr(r)===void 0;)r=ya(r,n),e=V(e),n=A(e);return r}function mm(t,e){const n=[];return gm(t,e,n),n.sort((r,i)=>r.order-i.order),n}function gm(t,e,n){const r=lr(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);ro(e,i=>{gm(t,i,n)})}function so(t,e){const n=lr(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,sm(e,n.length>0?n:void 0)}ro(e,r=>{so(t,r)})}function _m(t,e){const n=_i(pm(t,e)),r=ya(t.transactionQueueTree_,e);return R1(r,i=>{Go(t,i)}),Go(t,r),lm(r,i=>{Go(t,i)}),n}function Go(t,e){const n=lr(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(S(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(S(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(on(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?sm(e,void 0):n.length=s+1,Et(t.eventQueue_,_i(e),i);for(let o=0;o<r.length;o++)or(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Z1(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):De(`Invalid query segment '${n}' in query '${t}'`)}return e}const Id=function(t,e){const n=ew(t),r=n.namespace;n.domain==="firebase.com"&&St(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&St("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Dv();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new yp(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new G(n.pathString)}},ew=function(t){let e="",n="",r="",i="",s="",o=!0,l="https",u=443;if(typeof t=="string"){let a=t.indexOf("//");a>=0&&(l=t.substring(0,a-1),t=t.substring(a+2));let d=t.indexOf("/");d===-1&&(d=t.length);let c=t.indexOf("?");c===-1&&(c=t.length),e=t.substring(0,Math.min(d,c)),d<c&&(i=J1(t.substring(d,c)));const f=Z1(t.substring(Math.min(t.length,c)));a=e.indexOf(":"),a>=0?(o=l==="https"||l==="wss",u=parseInt(e.substring(a+1),10)):a=e.length;const g=e.slice(0,a);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const _=e.indexOf(".");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return M(this._path)?null:Np(this._path)}get ref(){return new wn(this._repo,this._path)}get _queryIdentifier(){const e=dd(this._queryParams),n=ta(e);return n==="{}"?"default":n}get _queryObject(){return dd(this._queryParams)}isEqual(e){if(e=hi(e),!(e instanceof ka))return!1;const n=this._repo===e._repo,r=Pp(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+h0(this._path)}}class wn extends ka{constructor(e,n){super(e,n,new la,!1)}get parent(){const e=xp(this._path);return e===null?null:new wn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}function tw(t,e){return t=hi(t),t._checkNotDeleted("ref"),e!==void 0?nw(t._root,e):t._root}function nw(t,e){return t=hi(t),A(t._path)===null?M1("child","path",e):cm("child","path",e),new wn(t._repo,re(t._path,e))}function rw(t,e){t=hi(t),L1("set",t._path),O1("set",e,t._path);const n=new Js;return G1(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}y1(wn);v1(wn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="FIREBASE_DATABASE_EMULATOR_HOST",ru={};let sw=!1;function ow(t,e,n,r){t.repoInfo_=new yp(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function lw(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||St("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ye("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Id(s,i),l=o.repoInfo,u;typeof process<"u"&&Gc&&(u=Gc[iw]),u?(s=`http://${u}?ns=${l.namespace}`,o=Id(s,i),l=o.repoInfo):o.repoInfo.secure;const a=new jv(t.name,t.options,e);F1("Invalid Firebase Database URL",o),M(o.path)||St("Database URL must point to the root of a Firebase Database (not including a child path).");const d=aw(l,t,a,new Wv(t.name,n));return new cw(d,t)}function uw(t,e){const n=ru[e];(!n||n[t.key]!==t)&&St(`Database ${e}(${t.repoInfo_}) has already been deleted.`),K1(t),delete n[t.key]}function aw(t,e,n,r){let i=ru[e.name];i||(i={},ru[e.name]=i);let s=i[t.toURLString()];return s&&St("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new H1(t,sw,n,r),i[t.toURLString()]=s,s}class cw{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||($1(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new wn(this._repo,B())),this._rootInternal}_delete(){return this._rootInternal!==null&&(uw(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&St("Cannot call "+e+" on a deleted database.")}}function dw(t=hv(),e){const n=av(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=ey("database");r&&fw(n,...r)}return n}function fw(t,e,n,r={}){t=hi(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&St("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&St('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Xi(Xi.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:ty(r.mockUserToken,t.app.options.projectId);s=new Xi(o)}ow(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(t){Tv(fv),Is(new ri("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return lw(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Hn(Qc,Kc,t),Hn(Qc,Kc,"esm2017")}mt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};mt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};hw();const pw={apiKey:"AIzaSyCu6EWEkuG8b0oF9FEw1NbcpqegcN4O6Lw",authDomain:"iot-controller-hk.firebaseapp.com",databaseURL:"https://iot-controller-hk-default-rtdb.firebaseio.com",projectId:"iot-controller-hk",storageBucket:"iot-controller-hk.appspot.com",messagingSenderId:"629393629553",appId:"1:629393629553:web:63c4982f8050059f3916d0",measurementId:"G-WZX2FDW9K5"},mw=ep(pw),gw=dw(mw);function _w(){const[t,e]=Fs.useState(!1),n=async()=>{const r=t?0:1;try{await rw(tw(gw,"sensorValue/8"),r),e(!t)}catch(i){console.error("Error updating Firebase:",i)}};return Ji.jsx("div",{className:"App",children:Ji.jsx("button",{onClick:n,style:{backgroundColor:t?"green":"red",color:"white",padding:"10px 20px",fontSize:"16px",border:"none",borderRadius:"5px"},children:t?"Turn Off":"Turn On"})})}Wh(document.getElementById("root")).render(Ji.jsx(Fs.StrictMode,{children:Ji.jsx(_w,{})}));
